import{_ as p,W as m,X as h,ah as V,b as t,Z as a,a5 as f,a0 as _,$ as b,ab as g,a4 as x,a2 as u,a3 as l,a8 as n,V as C,a1 as k,ac as S,a7 as v}from"./index-Cn-3wDDx.js";const w={data(){return{articulos:[],url:"https://tpv.confinsoft.com/api/public",desde:"",hasta:"",headers:[{title:"Código",value:"codigo",sortable:!0},{title:"Artículo",value:"descripcion",sortable:!0},{title:"Cantidad vendida",value:"cantidad",sortable:!0},{title:"Stock actual",value:"stock",sortable:!0}]}},mounted(){this.desde=new Date().toISOString().substr(0,10),this.hasta=new Date().toISOString().substr(0,10)},methods:{async getArticulos(){let o=this.url+"/"+this.usuario.tpv+"/ventas/filtradas",s=await m.get(o,{params:{desde:this.desde,hasta:this.hasta,param:"porArticulos"},headers:{Authorization:this.usuario.token}});console.log(s.data);const d=Object.entries(s.data).map(([i,e])=>({articulo:i,codigo:e.codigo,descripcion:e.descripcion,cantidad:e.cantidad,total:e.precio*e.cantidad,stock:e.stock}));this.articulos=d}},setup(){return{usuario:h()}}},A=v("h3",null,"Ventas por artículo",-1);function B(o,s,d,i,e,c){return _(),V("div",null,[t(f,null,{default:a(()=>[t(b,null,{default:a(()=>[t(g,null,{default:a(()=>[A]),_:1}),t(x,null,{default:a(()=>[t(u,null,{default:a(()=>[t(l,{cols:"12",md:"4"},{default:a(()=>[t(n,{modelValue:e.desde,"onUpdate:modelValue":s[0]||(s[0]=r=>e.desde=r),label:"Desde",type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(l,{cols:"12",md:"4"},{default:a(()=>[t(n,{modelValue:e.hasta,"onUpdate:modelValue":s[1]||(s[1]=r=>e.hasta=r),label:"Hasta",type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(l,{cols:"12",md:"4",align:"center",class:"mt-2"},{default:a(()=>[t(C,{onClick:c.getArticulos,color:"primary"},{default:a(()=>[k("Buscar")]),_:1},8,["onClick"])]),_:1})]),_:1}),t(u,null,{default:a(()=>[t(l,{cols:"12"},{default:a(()=>[t(S,{headers:e.headers,items:e.articulos,"no-data-text":"Sin Datos","items-per-page-text":"filas"},null,8,["headers","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const T=p(w,[["render",B]]);export{T as default};
