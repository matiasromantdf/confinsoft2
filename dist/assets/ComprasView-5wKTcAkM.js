import{g as W,p as R,u as ee,a as Me,b as We,r as H,I as Re,t as P,c as Ne,d as N,f as ze,V as fe,e as pe,h as o,m as F,i as Ce,j as Xe,k as Ye,l as c,n as q,o as j,q as He,s as je,v as O,L as Ge,w as Le,F as te,x as Oe,y as B,z as D,A as we,B as qe,C as Ke,D as Je,E as ke,G as Qe,H as Ze,J as $e,K as et,M as ie,N as tt,O as xe,P as ot,Q as Ie,R as Te,S as at,T as Se,U as lt,W as nt,X as rt,Y as ut,Z as it,_ as st,$ as dt,a0 as se,a1 as ct,a2 as mt,a3 as vt,a4 as ft,a5 as pt,a6 as ge,a7 as gt,a8 as bt,a9 as _t,aa as ht,ab as ne,ac as L,ad as n,ae as Q,af as Vt,ag as Z,ah as yt,ai as y,aj as $,ak as w,al as d,am as re,an as be,ao as ue,ap as m,aq as X,ar as _e,as as Ct,at as wt,au as kt,av as xt,aw as It,ax as he,ay as Tt,az as Y}from"./index-Cd-cAxJ9.js";const St=R({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ye(),...Xe()},"VSwitch"),At=W()({name:"VSwitch",inheritAttrs:!1,props:St(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:u,slots:r}=t;const a=ee(e,"indeterminate"),i=ee(e,"modelValue"),{loaderClasses:s}=Me(e),{isFocused:l,focus:f,blur:h}=We(e),T=H(),C=H(),p=Re&&window.matchMedia("(forced-colors: active)").matches,b=P(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),g=Ne(),k=P(()=>e.id||`switch-${g}`);function U(){a.value&&(a.value=!1)}function z(x){var I,v;x.stopPropagation(),x.preventDefault(),(v=(I=T.value)==null?void 0:I.input)==null||v.click()}return N(()=>{const[x,I]=ze(u),v=fe.filterProps(e),_=pe.filterProps(e);return o(fe,F({ref:C,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":a.value},s.value,e.class]},x,v,{modelValue:i.value,"onUpdate:modelValue":V=>i.value=V,id:k.value,focused:l.value,style:e.style}),{...r,default:V=>{let{id:S,messagesId:oe,isDisabled:ae,isReadonly:E,isValid:K}=V;const J={model:i,isValid:K};return o(pe,F({ref:T},_,{modelValue:i.value,"onUpdate:modelValue":[M=>i.value=M,U],id:S.value,"aria-describedby":oe.value,type:"checkbox","aria-checked":a.value?"mixed":void 0,disabled:ae.value,readonly:E.value,onFocus:f,onBlur:h},I),{...r,default:M=>{let{backgroundColorClasses:G,backgroundColorStyles:A}=M;return c("div",{class:j(["v-switch__track",p?void 0:G.value]),style:q(A.value),onClick:z},[r["track-true"]&&c("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](J)]),r["track-false"]&&c("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](J)])])},input:M=>{let{inputNode:G,icon:A,backgroundColorClasses:Ee,backgroundColorStyles:Fe}=M;return c(te,null,[G,c("div",{class:j(["v-switch__thumb",{"v-switch__thumb--filled":A||e.loading},e.inset||p?void 0:Ee.value]),style:q(e.inset?void 0:Fe.value)},[r.thumb?o(He,{defaults:{VIcon:{icon:A,size:"x-small"}}},{default:()=>[r.thumb({...J,icon:A})]}):o(je,null,{default:()=>[e.loading?o(Ge,{name:"v-switch",active:!0,color:K.value===!1?void 0:b.value},{default:le=>r.loader?r.loader(le):o(Le,{active:le.isActive,color:le.color,indeterminate:!0,size:"16",width:"2"},null)}):A&&o(O,{key:String(A),icon:A,size:"x-small"},null)]})])])}})}})}),Ce({},C)}}),ve=Symbol.for("vuetify:v-tabs"),Bt=R({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...we(qe({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),de=W()({name:"VTab",props:Bt(),setup(e,t){let{slots:u,attrs:r}=t;const{textColorClasses:a,textColorStyles:i}=Oe(()=>e.sliderColor),s=H(),l=H(),f=B(()=>e.direction==="horizontal"),h=B(()=>{var C,p;return((p=(C=s.value)==null?void 0:C.group)==null?void 0:p.isSelected.value)??!1});function T(C){var b,g;let{value:p}=C;if(p){const k=(g=(b=s.value)==null?void 0:b.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),U=l.value;if(!k||!U)return;const z=getComputedStyle(k).color,x=k.getBoundingClientRect(),I=U.getBoundingClientRect(),v=f.value?"x":"y",_=f.value?"X":"Y",V=f.value?"right":"bottom",S=f.value?"width":"height",oe=x[v],ae=I[v],E=oe>ae?x[V]-I[V]:x[v]-I[v],K=Math.sign(E)>0?f.value?"right":"bottom":Math.sign(E)<0?f.value?"left":"top":"center",M=(Math.abs(E)+(Math.sign(E)<0?x[S]:I[S]))/Math.max(x[S],I[S])||0,G=x[S]/I[S]||0,A=1.5;Ke(U,{backgroundColor:[z,"currentcolor"],transform:[`translate${_}(${E}px) scale${_}(${G})`,`translate${_}(${E/A}px) scale${_}(${(M-1)/A+1})`,"none"],transformOrigin:Array(3).fill(K)},{duration:225,easing:Je})}}return N(()=>{const C=D.filterProps(e);return o(D,F({symbol:ve,ref:s,class:["v-tab",e.class],style:e.style,tabindex:h.value?0:-1,role:"tab","aria-selected":String(h.value),active:!1},C,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":T}),{...u,default:()=>{var p;return c(te,null,[((p=u.default)==null?void 0:p.call(u))??e.text,!e.hideSlider&&c("div",{ref:l,class:j(["v-tab__slider",a.value]),style:q(i.value)},null)])}})}),Ce({},s)}}),Pt=e=>{const{touchstartX:t,touchendX:u,touchstartY:r,touchendY:a}=e,i=.5,s=16;e.offsetX=u-t,e.offsetY=a-r,Math.abs(e.offsetY)<i*Math.abs(e.offsetX)&&(e.left&&u<t-s&&e.left(e),e.right&&u>t+s&&e.right(e)),Math.abs(e.offsetX)<i*Math.abs(e.offsetY)&&(e.up&&a<r-s&&e.up(e),e.down&&a>r+s&&e.down(e))};function Dt(e,t){var r;const u=e.changedTouches[0];t.touchstartX=u.clientX,t.touchstartY=u.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function Ut(e,t){var r;const u=e.changedTouches[0];t.touchendX=u.clientX,t.touchendY=u.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),Pt(t)}function Et(e,t){var r;const u=e.changedTouches[0];t.touchmoveX=u.clientX,t.touchmoveY=u.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function Ft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:u=>Dt(u,t),touchend:u=>Ut(u,t),touchmove:u=>Et(u,t)}}function Mt(e,t){var l;const u=t.value,r=u!=null&&u.parent?e.parentElement:e,a=(u==null?void 0:u.options)??{passive:!0},i=(l=t.instance)==null?void 0:l.$.uid;if(!r||i===void 0)return;const s=Ft(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[i]=s,ke(s).forEach(f=>{r.addEventListener(f,s[f],a)})}function Wt(e,t){var i,s;const u=(i=t.value)!=null&&i.parent?e.parentElement:e,r=(s=t.instance)==null?void 0:s.$.uid;if(!(u!=null&&u._touchHandlers)||r===void 0)return;const a=u._touchHandlers[r];ke(a).forEach(l=>{u.removeEventListener(l,a[l])}),delete u._touchHandlers[r]}const ce={mounted:Mt,unmounted:Wt},Ae=Symbol.for("vuetify:v-window"),Be=Symbol.for("vuetify:v-window-group"),Pe=R({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Te(),...Ie(),...ot()},"VWindow"),Ve=W()({name:"VWindow",directives:{vTouch:ce},props:Pe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:u}=t;const{themeClasses:r}=Qe(e),{isRtl:a}=Ze(),{t:i}=$e(),s=et(e,Be),l=H(),f=B(()=>a.value?!e.reverse:e.reverse),h=ie(!1),T=B(()=>{const v=e.direction==="vertical"?"y":"x",V=(f.value?!h.value:h.value)?"-reverse":"";return`v-window-${v}${V}-transition`}),C=ie(0),p=H(void 0),b=B(()=>s.items.value.findIndex(v=>s.selected.value.includes(v.id)));tt(b,(v,_)=>{const V=s.items.value.length,S=V-1;V<=2?h.value=v<_:v===S&&_===0?h.value=!0:v===0&&_===S?h.value=!1:h.value=v<_}),at(Ae,{transition:T,isReversed:h,transitionCount:C,transitionHeight:p,rootRef:l});const g=P(()=>e.continuous||b.value!==0),k=P(()=>e.continuous||b.value!==s.items.value.length-1);function U(){g.value&&s.prev()}function z(){k.value&&s.next()}const x=B(()=>{const v=[],_={icon:a.value?e.nextIcon:e.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:s.prev,"aria-label":i("$vuetify.carousel.prev")};v.push(g.value?u.prev?u.prev({props:_}):o(D,_,null):c("div",null,null));const V={icon:a.value?e.prevIcon:e.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:s.next,"aria-label":i("$vuetify.carousel.next")};return v.push(k.value?u.next?u.next({props:V}):o(D,V,null):c("div",null,null)),v}),I=B(()=>e.touch===!1?e.touch:{...{left:()=>{f.value?U():z()},right:()=>{f.value?z():U()},start:_=>{let{originalEvent:V}=_;V.stopPropagation()}},...e.touch===!0?{}:e.touch});return N(()=>xe(o(e.tag,{ref:l,class:j(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover","v-window--vertical-arrows":!!e.verticalArrows},r.value,e.class]),style:q(e.style)},{default:()=>{var v,_;return[c("div",{class:"v-window__container",style:{height:p.value}},[(v=u.default)==null?void 0:v.call(u,{group:s}),e.showArrows!==!1&&c("div",{class:j(["v-window__controls",{"v-window__controls--left":e.verticalArrows==="left"||e.verticalArrows===!0},{"v-window__controls--right":e.verticalArrows==="right"}])},[x.value])]),(_=u.additional)==null?void 0:_.call(u,{group:s})]}}),[[ce,I.value]])),{group:s}}}),Rt=R({...we(Pe(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),De=W()({name:"VTabsWindow",props:Rt(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:u}=t;const r=Se(ve,null),a=ee(e,"modelValue"),i=B({get(){var s;return a.value!=null||!r?a.value:(s=r.items.value.find(l=>r.selected.value.includes(l.id)))==null?void 0:s.value},set(s){a.value=s}});return N(()=>{const s=Ve.filterProps(e);return o(Ve,F({_as:"VTabsWindow"},s,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),u)}),{}}}),Ue=R({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Te(),...st(),...it()},"VWindowItem"),ye=W()({name:"VWindowItem",directives:{vTouch:ce},props:Ue(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:u}=t;const r=Se(Ae),a=lt(e,Be),{isBooted:i}=nt();if(!r||!a)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=ie(!1),l=B(()=>i.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function f(){!s.value||!r||(s.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function h(){var g;s.value||!r||(s.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=se((g=r.rootRef.value)==null?void 0:g.clientHeight)),r.transitionCount.value+=1)}function T(){f()}function C(g){s.value&&dt(()=>{!l.value||!s.value||!r||(r.transitionHeight.value=se(g.clientHeight))})}const p=B(()=>{const g=r.isReversed.value?e.reverseTransition:e.transition;return l.value?{name:typeof g!="string"?r.transition.value:g,onBeforeEnter:h,onAfterEnter:f,onEnterCancelled:T,onBeforeLeave:h,onAfterLeave:f,onLeaveCancelled:T,onEnter:C}:!1}),{hasContent:b}=rt(e,a.isSelected);return N(()=>o(ut,{transition:p.value,disabled:!i.value},{default:()=>{var g;return[xe(c("div",{class:j(["v-window-item",a.selectedClass.value,e.class]),style:q(e.style)},[b.value&&((g=u.default)==null?void 0:g.call(u))]),[[ct,a.isSelected.value]])]}})),{groupItem:a}}}),Nt=R({...Ue()},"VTabsWindowItem"),me=W()({name:"VTabsWindowItem",props:Nt(),setup(e,t){let{slots:u}=t;return N(()=>{const r=ye.filterProps(e);return o(ye,F({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),u)}),{}}});function zt(e){return e?e.map(t=>_t(t)?t:{text:t,value:t}):[]}const Xt=R({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...bt({mandatory:"force",selectedClass:"v-tab-item--selected"}),...gt(),...Ie()},"VTabs"),Yt=W()({name:"VTabs",props:Xt(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:u,slots:r}=t;const a=ee(e,"modelValue"),i=B(()=>zt(e.items)),{densityClasses:s}=mt(e),{backgroundColorClasses:l,backgroundColorStyles:f}=vt(()=>e.bgColor),{scopeId:h}=ft();return pt({VTab:{color:P(()=>e.color),direction:P(()=>e.direction),stacked:P(()=>e.stacked),fixed:P(()=>e.fixedTabs),sliderColor:P(()=>e.sliderColor),hideSlider:P(()=>e.hideSlider)}}),N(()=>{const T=ge.filterProps(e),C=!!(r.window||e.items.length>0);return c(te,null,[o(ge,F(T,{modelValue:a.value,"onUpdate:modelValue":p=>a.value=p,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,l.value,e.class],style:[{"--v-tabs-height":se(e.height)},f.value,e.style],role:"tablist",symbol:ve},h,u),{default:()=>{var p;return[((p=r.default)==null?void 0:p.call(r))??i.value.map(b=>{var g;return((g=r.tab)==null?void 0:g.call(r,{item:b}))??o(de,F(b,{key:b.text,value:b.value}),{default:r[`tab.${b.value}`]?()=>{var k;return(k=r[`tab.${b.value}`])==null?void 0:k.call(r,{item:b})}:void 0})})]}}),C&&o(De,F({modelValue:a.value,"onUpdate:modelValue":p=>a.value=p,key:"tabs-window"},h),{default:()=>{var p;return[i.value.map(b=>{var g;return((g=r.item)==null?void 0:g.call(r,{item:b}))??o(me,{value:b.value},{default:()=>{var k;return(k=r[`item.${b.value}`])==null?void 0:k.call(r,{item:b})}})}),(p=r.window)==null?void 0:p.call(r)]}})])}),{}}});let Ht=new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2});const jt={data(){return{proveedores:[],url:"https://api-tpv.confinsoft.com/public",compra:{tipo_comprobante:null,punto_venta:null,numero_comprobante:"",codigo_documento_vendedor:80,cuit_proveedor:"",neto_gravado_21:0,iva_21:0,neto_gravado_10_5:0,iva_10_5:0,neto_gravado_27:0,iva_27:0,neto_gravado_5:0,iva_5:0,neto_gravado_2_5:0,iva_2_5:0,exento:0,no_gravado:0,percepciones_iva:0,percepciones_iibb:0,otros_tributos:0},articulo:{codigo:"",cantidad:0},modalBusquedaArticulo:!1,search:"",headers:[{text:"Código",value:"codigo"},{text:"Descripción",value:"descripcion"},{text:"Precio",value:"precio"},{text:"Stock",value:"stock"},{text:"Acciones",value:"actions",sortable:!1}],articulos:[],cargando:!1,detalle:[],fecha:new Date().toISOString().substr(0,10),proveedor:"",tab:"one",cargarDetalle:!1}},mounted(){this.getProveedores()},methods:{getProveedores(){Z.get(this.url+"/"+this.usuario.tpv+"/proveedores",{headers:{Authorization:this.usuario.token}}).then(e=>{this.proveedores=e.data}).catch(e=>{console.log(e)})},cargarDatosProveedor(){const e=this.proveedores.find(t=>t.id===this.proveedor);e&&e.cuit&&(this.compra.cuit_proveedor=e.cuit)},calcularTotal(){},formatearPuntoVenta(){this.compra.punto_venta&&(this.compra.punto_venta=String(this.compra.punto_venta).padStart(5,"0"))},checkEnter(e){(e.key==="Enter"||e.keyCode==="13"||e.key==="Tab")&&this.getArticulo()},buscarArticulos(){this.search.length<3||(this.cargando=!0,Z.get(this.url+"/"+this.usuario.tpv+"/articulos/buscar/"+this.search,{headers:{Authorization:this.usuario.token}}).then(e=>{this.articulos=e.data.data}).catch(e=>{console.log(e)}).finally(()=>this.cargando=!1))},seleccionarArticulo(e){this.articulo.id=e.id,this.articulo.codigo=e.codigo,this.articulo.descripcion=e.descripcion,this.articulo.precio=e.precio,this.articulo.stock=e.stock,this.articulo.costo=e.costo,this.articulo.iva=e.iva,this.articulo.foto=e.foto,this.modalBusquedaArticulo=!1,this.$nextTick(()=>{document.getElementById("codigo").focus()})},agregarArticulo(){if(this.articulo.cantidad===0||!this.articulo.codigo){this.$swal("Error","Debe ingresar un artículo y una cantidad","error");return}this.articulo.subtotal=this.articulo.costo*this.articulo.cantidad,this.detalle.push({...this.articulo}),this.articulo={codigo:"",cantidad:0},this.$nextTick(()=>{document.getElementById("codigo").focus()})},getArticulo(){this.articulo.codigo&&Z.get(this.url+"/"+this.usuario.tpv+"/articulos/"+this.articulo.codigo,{headers:{Authorization:this.usuario.token}}).then(e=>{if(!e.data.id){this.$swal("Artículo no encontrado","El artículo no se encuentra registrado","error");return}this.articulo=e.data,this.articulo.cantidad=0,document.getElementById("precioArticulo").focus()}).catch(e=>{this.$swal("Error","No se pudo obtener el artículo","error"),console.log(e)})},eliminarArticulo(e){this.detalle=this.detalle.filter(t=>t.codigo!==e.codigo)},guardarCompra(){if(!this.proveedor||!this.compra.tipo_comprobante){this.$swal("Error","Debe completar los campos obligatorios (Proveedor y Tipo de Comprobante)","error");return}if(this.cargarDetalle&&this.detalle.length===0){this.$swal("Error","Debe agregar al menos un artículo o desactivar la opción de cargar detalle","error");return}this.$swal({title:"¿Estás seguro?",text:"¿Deseas guardar la compra?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, guardar",cancelButtonText:"No, cancelar"}).then(e=>{e.isConfirmed&&this.enviarDatos()})},enviarDatos(){const e={proveedor_id:this.proveedor,fecha:this.fecha,monto:this.totalCompra,es_compra_fiscal:1,tipo_comprobante:this.compra.tipo_comprobante,punto_venta:this.compra.punto_venta,numero_comprobante:this.compra.numero_comprobante,codigo_documento_vendedor:this.compra.codigo_documento_vendedor,cuit_proveedor:this.compra.cuit_proveedor,neto_gravado_21:this.compra.neto_gravado_21,iva_21:this.compra.iva_21,neto_gravado_10_5:this.compra.neto_gravado_10_5,iva_10_5:this.compra.iva_10_5,neto_gravado_27:this.compra.neto_gravado_27,iva_27:this.compra.iva_27,neto_gravado_5:this.compra.neto_gravado_5,iva_5:this.compra.iva_5,neto_gravado_2_5:this.compra.neto_gravado_2_5,iva_2_5:this.compra.iva_2_5,exento:this.compra.exento,no_gravado:this.compra.no_gravado,percepciones_iva:this.compra.percepciones_iva,percepciones_iibb:this.compra.percepciones_iibb,otros_tributos:this.compra.otros_tributos};this.cargarDetalle&&(e.detalle=JSON.stringify(this.detalle)),Z.post(this.url+"/"+this.usuario.tpv+"/compras",e,{headers:{Authorization:this.usuario.token}}).then(t=>{t.data=="ok"||t.data.id?(this.$swal("Guardado","La compra se ha registrado correctamente","success"),this.resetFormulario()):this.$swal("Error","No se pudo guardar la compra","error")}).catch(t=>{this.$swal("Error","No se pudo guardar la compra","error"),console.log(t)})},resetFormulario(){this.detalle=[],this.fecha=new Date().toISOString().substr(0,10),this.proveedor="",this.cargarDetalle=!1,this.tab="one",this.compra={tipo_comprobante:null,punto_venta:null,numero_comprobante:"",codigo_documento_vendedor:80,cuit_proveedor:"",neto_gravado_21:0,iva_21:0,neto_gravado_10_5:0,iva_10_5:0,neto_gravado_27:0,iva_27:0,neto_gravado_5:0,iva_5:0,neto_gravado_2_5:0,iva_2_5:0,exento:0,no_gravado:0,percepciones_iva:0,percepciones_iibb:0,otros_tributos:0}},formatear(e){return Ht.format(e)}},computed:{totalCompra(){return parseFloat(this.compra.neto_gravado_21||0)+parseFloat(this.compra.iva_21||0)+parseFloat(this.compra.neto_gravado_10_5||0)+parseFloat(this.compra.iva_10_5||0)+parseFloat(this.compra.neto_gravado_27||0)+parseFloat(this.compra.iva_27||0)+parseFloat(this.compra.neto_gravado_5||0)+parseFloat(this.compra.iva_5||0)+parseFloat(this.compra.neto_gravado_2_5||0)+parseFloat(this.compra.iva_2_5||0)+parseFloat(this.compra.exento||0)+parseFloat(this.compra.no_gravado||0)+parseFloat(this.compra.percepciones_iva||0)+parseFloat(this.compra.percepciones_iibb||0)+parseFloat(this.compra.otros_tributos||0)}},setup(){return{usuario:Vt()}}},Gt={class:"text-caption"};function Lt(e,t,u,r,a,i){const s=yt("router-link");return L(),ne(Q,{class:"bg-grey-lighten-2 pl-5 pr-5 mt-1",elevation:"0"},{default:n(()=>[o(Yt,{modelValue:a.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>a.tab=l),class:"bg-white"},{default:n(()=>[o(de,{value:"one"},{default:n(()=>[...t[40]||(t[40]=[y("Datos de Factura",-1)])]),_:1}),o(de,{value:"two",disabled:!a.cargarDetalle},{default:n(()=>[...t[41]||(t[41]=[y("Detalle de Artículos",-1)])]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),o($,{class:"pt-0"},{default:n(()=>[o(De,{modelValue:a.tab,"onUpdate:modelValue":t[39]||(t[39]=l=>a.tab=l)},{default:n(()=>[o(me,{value:"one"},{default:n(()=>[o(w,{class:"mt-2",justify:"center"},{default:n(()=>[o(d,{cols:"12",md:"10"},{default:n(()=>[o(Q,null,{default:n(()=>[o(re,{class:"d-flex align-center"},{default:n(()=>[o(O,{class:"mr-2"},{default:n(()=>[...t[42]||(t[42]=[y("mdi-receipt-text-outline",-1)])]),_:1}),t[43]||(t[43]=y(" Datos de la Factura ",-1))]),_:1}),o($,null,{default:n(()=>[o(be,null,{default:n(()=>[o(w,null,{default:n(()=>[o(d,{md:"6",cols:"12"},{default:n(()=>[o(ue,{items:a.proveedores,label:"Proveedor *","item-title":"nombre","item-value":"id",variant:"outlined",modelValue:a.proveedor,"onUpdate:modelValue":[t[1]||(t[1]=l=>a.proveedor=l),i.cargarDatosProveedor]},null,8,["items","modelValue","onUpdate:modelValue"]),c("p",Gt,[t[45]||(t[45]=y("Si es un nuevo proveedor, podes ",-1)),o(s,{class:"text-caption",to:{name:"listado-de-proveedores"}},{default:n(()=>[...t[44]||(t[44]=[y("agregarlo aquí",-1)])]),_:1})])]),_:1}),o(d,{md:"6",cols:"12"},{default:n(()=>[o(m,{label:"Fecha *",type:"date",variant:"outlined",modelValue:a.fecha,"onUpdate:modelValue":t[2]||(t[2]=l=>a.fecha=l)},null,8,["modelValue"])]),_:1})]),_:1}),o(X,{class:"my-4"}),o(w,null,{default:n(()=>[o(d,{cols:"12"},{default:n(()=>[...t[46]||(t[46]=[c("h4",{class:"mb-2"},"Datos del Comprobante",-1)])]),_:1}),o(d,{md:"4",cols:"12"},{default:n(()=>[o(ue,{modelValue:a.compra.tipo_comprobante,"onUpdate:modelValue":t[3]||(t[3]=l=>a.compra.tipo_comprobante=l),items:[{value:1,title:"Factura A"},{value:6,title:"Factura B"},{value:11,title:"Factura C"},{value:51,title:"Factura M"}],label:"Tipo de Comprobante *","item-title":"title","item-value":"value",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(d,{md:"4",cols:"12"},{default:n(()=>[o(m,{modelValue:a.compra.punto_venta,"onUpdate:modelValue":t[4]||(t[4]=l=>a.compra.punto_venta=l),label:"Punto de Venta *",variant:"outlined",type:"number",hint:"5 dígitos",onBlur:i.formatearPuntoVenta},null,8,["modelValue","onBlur"])]),_:1}),o(d,{md:"4",cols:"12"},{default:n(()=>[o(m,{modelValue:a.compra.numero_comprobante,"onUpdate:modelValue":t[5]||(t[5]=l=>a.compra.numero_comprobante=l),label:"Número de Comprobante *",variant:"outlined",hint:"Ej: 00012345"},null,8,["modelValue"])]),_:1})]),_:1}),o(w,null,{default:n(()=>[o(d,{md:"6",cols:"12"},{default:n(()=>[o(ue,{modelValue:a.compra.codigo_documento_vendedor,"onUpdate:modelValue":t[6]||(t[6]=l=>a.compra.codigo_documento_vendedor=l),items:[{value:80,title:"CUIT"},{value:96,title:"DNI"},{value:86,title:"CDI"}],label:"Tipo de Documento Proveedor","item-title":"title","item-value":"value",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(d,{md:"6",cols:"12"},{default:n(()=>[o(m,{modelValue:a.compra.cuit_proveedor,"onUpdate:modelValue":t[7]||(t[7]=l=>a.compra.cuit_proveedor=l),label:"CUIT/DNI Proveedor",variant:"outlined",hint:"Solo números"},null,8,["modelValue"])]),_:1})]),_:1}),o(X,{class:"my-4"}),o(w,null,{default:n(()=>[o(d,{cols:"12"},{default:n(()=>[...t[47]||(t[47]=[c("h4",{class:"mb-2"},"Discriminación de IVA",-1)])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.neto_gravado_21,"onUpdate:modelValue":t[8]||(t[8]=l=>a.compra.neto_gravado_21=l),modelModifiers:{number:!0},label:"Neto 21%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.iva_21,"onUpdate:modelValue":t[9]||(t[9]=l=>a.compra.iva_21=l),modelModifiers:{number:!0},label:"IVA 21%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.neto_gravado_10_5,"onUpdate:modelValue":t[10]||(t[10]=l=>a.compra.neto_gravado_10_5=l),modelModifiers:{number:!0},label:"Neto 10.5%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.iva_10_5,"onUpdate:modelValue":t[11]||(t[11]=l=>a.compra.iva_10_5=l),modelModifiers:{number:!0},label:"IVA 10.5%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.neto_gravado_27,"onUpdate:modelValue":t[12]||(t[12]=l=>a.compra.neto_gravado_27=l),modelModifiers:{number:!0},label:"Neto 27%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.iva_27,"onUpdate:modelValue":t[13]||(t[13]=l=>a.compra.iva_27=l),modelModifiers:{number:!0},label:"IVA 27%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.neto_gravado_5,"onUpdate:modelValue":t[14]||(t[14]=l=>a.compra.neto_gravado_5=l),modelModifiers:{number:!0},label:"Neto 5%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.iva_5,"onUpdate:modelValue":t[15]||(t[15]=l=>a.compra.iva_5=l),modelModifiers:{number:!0},label:"IVA 5%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.neto_gravado_2_5,"onUpdate:modelValue":t[16]||(t[16]=l=>a.compra.neto_gravado_2_5=l),modelModifiers:{number:!0},label:"Neto 2.5%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.iva_2_5,"onUpdate:modelValue":t[17]||(t[17]=l=>a.compra.iva_2_5=l),modelModifiers:{number:!0},label:"IVA 2.5%",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1})]),_:1}),o(X,{class:"my-4"}),o(w,null,{default:n(()=>[o(d,{cols:"12"},{default:n(()=>[...t[48]||(t[48]=[c("h4",{class:"mb-2"},"Otros Conceptos",-1)])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.exento,"onUpdate:modelValue":t[18]||(t[18]=l=>a.compra.exento=l),modelModifiers:{number:!0},label:"Exento",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"3",cols:"6"},{default:n(()=>[o(m,{modelValue:a.compra.no_gravado,"onUpdate:modelValue":t[19]||(t[19]=l=>a.compra.no_gravado=l),modelModifiers:{number:!0},label:"No Gravado",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"2",cols:"4"},{default:n(()=>[o(m,{modelValue:a.compra.percepciones_iva,"onUpdate:modelValue":t[20]||(t[20]=l=>a.compra.percepciones_iva=l),modelModifiers:{number:!0},label:"Percepciones IVA",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"2",cols:"4"},{default:n(()=>[o(m,{modelValue:a.compra.percepciones_iibb,"onUpdate:modelValue":t[21]||(t[21]=l=>a.compra.percepciones_iibb=l),modelModifiers:{number:!0},label:"Percepciones IIBB",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1}),o(d,{md:"2",cols:"4"},{default:n(()=>[o(m,{modelValue:a.compra.otros_tributos,"onUpdate:modelValue":t[22]||(t[22]=l=>a.compra.otros_tributos=l),modelModifiers:{number:!0},label:"Otros Tributos",variant:"outlined",type:"number",step:"0.01",onInput:i.calcularTotal},null,8,["modelValue","onInput"])]),_:1})]),_:1}),o(X,{class:"my-4"}),o(w,null,{default:n(()=>[o(d,{md:"6",cols:"12"},{default:n(()=>[o(m,{value:i.formatear(i.totalCompra),label:"Total de la Factura",variant:"outlined",readonly:"",class:"text-h6"},null,8,["value"])]),_:1})]),_:1}),o(X,{class:"my-4"}),o(w,null,{default:n(()=>[o(d,{cols:"12"},{default:n(()=>[o(At,{modelValue:a.cargarDetalle,"onUpdate:modelValue":t[23]||(t[23]=l=>a.cargarDetalle=l),color:"primary",label:"¿Desea cargar el detalle de artículos para actualizar stock/precios?",hint:"Si no activa esta opción, solo se registrará la factura con los montos de IVA","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),o(w,{justify:"end",class:"mt-4"},{default:n(()=>[a.cargarDetalle?(L(),ne(d,{key:0,cols:"auto"},{default:n(()=>[o(D,{color:"primary",onClick:t[24]||(t[24]=l=>a.tab="two"),"prepend-icon":"mdi-arrow-right"},{default:n(()=>[...t[49]||(t[49]=[y(" Ir a Detalle de Artículos ",-1)])]),_:1})]),_:1})):_e("",!0),a.cargarDetalle?_e("",!0):(L(),ne(d,{key:1,cols:"auto"},{default:n(()=>[o(D,{color:"success",onClick:i.guardarCompra,"prepend-icon":"mdi-content-save"},{default:n(()=>[...t[50]||(t[50]=[y(" Guardar Compra ",-1)])]),_:1},8,["onClick"])]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(me,{value:"two"},{default:n(()=>[o(w,{class:"mt-2",justify:"center"},{default:n(()=>[o(d,{cols:"12",md:"10"},{default:n(()=>[o(Q,null,{default:n(()=>[o(re,{class:"d-flex align-center"},{default:n(()=>[o(O,{class:"mr-2"},{default:n(()=>[...t[51]||(t[51]=[y("mdi-package-variant",-1)])]),_:1}),t[52]||(t[52]=y(" Detalle de Artículos ",-1))]),_:1}),o($,null,{default:n(()=>[o(be,null,{default:n(()=>[o(w,null,{default:n(()=>[o(d,{md:"4",cols:"12"},{default:n(()=>[o(m,{label:"Código",outlined:"",modelValue:a.articulo.codigo,"onUpdate:modelValue":t[25]||(t[25]=l=>a.articulo.codigo=l),id:"codigo","append-icon":"mdi-magnify","onClick:append":t[26]||(t[26]=l=>a.modalBusquedaArticulo=!0),onKeydown:t[27]||(t[27]=l=>i.checkEnter(l)),variant:"outlined"},null,8,["modelValue"]),o(Ct,{modelValue:a.modalBusquedaArticulo,"onUpdate:modelValue":t[31]||(t[31]=l=>a.modalBusquedaArticulo=l),"max-width":"800"},{default:n(()=>[o(Q,null,{default:n(()=>[o(re,null,{default:n(()=>[...t[53]||(t[53]=[c("span",{class:"headline"},"Buscar artículo",-1)])]),_:1}),o($,null,{default:n(()=>[o(m,{label:"Buscar",modelValue:a.search,"onUpdate:modelValue":t[28]||(t[28]=l=>a.search=l),"append-icon":"mdi-magnify","single-line":"","hide-details":"",variant:"outlined","onClick:append":i.buscarArticulos,onKeyup:t[29]||(t[29]=l=>i.buscarArticulos(l))},null,8,["modelValue","onClick:append"]),o(wt,{headers:a.headers,items:a.articulos,"item-key":"codigo",loading:a.cargando,"no-data-text":"No se encontraron artículos","items-per-page-text":"Artículos por página",hover:!0,"loading-text":"cargando artículos..."},{"item.actions":n(({item:l})=>[o(O,{small:"",onClick:f=>i.seleccionarArticulo(l),color:"blue"},{default:n(()=>[...t[54]||(t[54]=[y("mdi-check",-1)])]),_:1},8,["onClick"])]),_:1},8,["headers","items","loading"])]),_:1}),o(kt,null,{default:n(()=>[o(xt),o(D,{color:"blue darken-1",text:"",onClick:t[30]||(t[30]=l=>{a.modalBusquedaArticulo=!1,a.search="",a.articulos=[]})},{default:n(()=>[...t[55]||(t[55]=[y("Cerrar",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(d,{md:"4",cols:"6"},{default:n(()=>[o(m,{label:"Descripción",modelValue:a.articulo.descripcion,"onUpdate:modelValue":t[32]||(t[32]=l=>a.articulo.descripcion=l),variant:"underlined",readonly:""},null,8,["modelValue"])]),_:1}),o(d,{md:"4",cols:"6"},{default:n(()=>[o(m,{label:"Stock actual",modelValue:a.articulo.stock,"onUpdate:modelValue":t[33]||(t[33]=l=>a.articulo.stock=l),variant:"underlined",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),o(w,null,{default:n(()=>[o(d,{md:"4",cols:"6"},{default:n(()=>[o(m,{label:"Costo",modelValue:a.articulo.costo,"onUpdate:modelValue":t[34]||(t[34]=l=>a.articulo.costo=l),variant:"outlined",type:"number"},null,8,["modelValue"])]),_:1}),o(d,{md:"4",cols:"6"},{default:n(()=>[o(m,{label:"Cantidad comprada",modelValue:a.articulo.cantidad,"onUpdate:modelValue":t[35]||(t[35]=l=>a.articulo.cantidad=l),variant:"outlined",type:"number"},null,8,["modelValue"])]),_:1}),o(d,{md:"4",cols:"6"},{default:n(()=>[o(m,{label:"Precio de venta",modelValue:a.articulo.precio,"onUpdate:modelValue":t[36]||(t[36]=l=>a.articulo.precio=l),variant:"outlined",id:"precioArticulo",type:"number",hint:"Actualizar precio de venta","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),o(w,{justify:"end"},{default:n(()=>[o(d,{cols:"12",md:"2"},{default:n(()=>[o(D,{color:"primary",onClick:t[37]||(t[37]=l=>i.agregarArticulo()),"prepend-icon":"mdi-plus"},{default:n(()=>[...t[56]||(t[56]=[y("Agregar",-1)])]),_:1})]),_:1})]),_:1}),o(X,{class:"my-4"}),o(w,null,{default:n(()=>[o(d,null,{default:n(()=>[o(It,null,{default:n(()=>[t[58]||(t[58]=c("thead",null,[c("tr",null,[c("th",null,"Código"),c("th",null,"Descripción"),c("th",null,"Precio"),c("th",null,"Costo"),c("th",null,"Cantidad"),c("th",null,"Subtotal"),c("th",null,"Acciones")])],-1)),c("tbody",null,[(L(!0),he(te,null,Tt(a.detalle,l=>(L(),he("tr",{key:l.codigo},[c("td",null,Y(l.codigo),1),c("td",null,Y(l.descripcion),1),c("td",null,Y(i.formatear(l.precio)),1),c("td",null,Y(i.formatear(l.costo)),1),c("td",null,Y(l.cantidad),1),c("td",null,Y(i.formatear(l.subtotal)),1),c("td",null,[o(O,{small:"",onClick:f=>i.eliminarArticulo(l),color:"red"},{default:n(()=>[...t[57]||(t[57]=[y("mdi-delete",-1)])]),_:1},8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1}),o(w,{justify:"end",class:"mt-4"},{default:n(()=>[o(d,{cols:"auto"},{default:n(()=>[o(D,{color:"grey",onClick:t[38]||(t[38]=l=>a.tab="one"),"prepend-icon":"mdi-arrow-left",variant:"text"},{default:n(()=>[...t[59]||(t[59]=[y(" Volver ",-1)])]),_:1})]),_:1}),o(d,{cols:"auto"},{default:n(()=>[o(D,{color:"success",onClick:i.guardarCompra,"prepend-icon":"mdi-content-save"},{default:n(()=>[...t[60]||(t[60]=[y(" Guardar Compra ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const qt=ht(jt,[["render",Lt]]);export{qt as default};
