import{g as X,p as Y,u as oe,a as ze,b as Ne,r as G,I as We,t as D,c as Re,d as H,f as Xe,V as pe,e as ge,h as a,m as N,i as xe,j as Ye,k as He,l as c,n as J,o as O,q as Le,s as je,v as K,L as Ge,w as Oe,F as ae,x as qe,y as T,z as P,A as ke,B as Ke,C as Je,D as Qe,E as we,G as Ze,H as $e,J as et,K as tt,M as ue,N as ot,O as Fe,P as at,Q as Se,R as Ie,S as lt,T as Be,U as rt,W as nt,X as it,Y as st,Z as ut,_ as dt,$ as ct,a0 as de,a1 as mt,a2 as vt,a3 as ft,a4 as pt,a5 as gt,a6 as he,a7 as ht,a8 as _t,a9 as bt,aa as Vt,ab as U,ac as A,ad as n,ae as $,af as yt,ag as ee,ah as Ct,ai as C,aj as te,ak as V,al as d,am as ie,an as _e,ao as z,ap as se,aq as m,ar as R,as as xt,at as kt,au as wt,av as Ft,aw as St,ax as be,ay as It,az as j}from"./index-Dz5lV3rp.js";const Bt=Y({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...He(),...Ye()},"VSwitch"),Ve=X()({name:"VSwitch",inheritAttrs:!1,props:Bt(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:i,slots:r}=e;const l=oe(t,"indeterminate"),s=oe(t,"modelValue"),{loaderClasses:u}=ze(t),{isFocused:o,focus:f,blur:b}=Ne(t),S=G(),x=G(),p=We&&window.matchMedia("(forced-colors: active)").matches,h=D(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),g=Re(),k=D(()=>t.id||`switch-${g}`);function E(){l.value&&(l.value=!1)}function L(w){var F,v;w.stopPropagation(),w.preventDefault(),(v=(F=S.value)==null?void 0:F.input)==null||v.click()}return H(()=>{const[w,F]=Xe(i),v=pe.filterProps(t),_=ge.filterProps(t);return a(pe,N({ref:x,class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":l.value},u.value,t.class]},w,v,{modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,id:k.value,focused:o.value,style:t.style}),{...r,default:y=>{let{id:I,messagesId:le,isDisabled:re,isReadonly:M,isValid:Q}=y;const Z={model:s,isValid:Q};return a(ge,N({ref:S},_,{modelValue:s.value,"onUpdate:modelValue":[W=>s.value=W,E],id:I.value,"aria-describedby":le.value,type:"checkbox","aria-checked":l.value?"mixed":void 0,disabled:re.value,readonly:M.value,onFocus:f,onBlur:b},F),{...r,default:W=>{let{backgroundColorClasses:q,backgroundColorStyles:B}=W;return c("div",{class:O(["v-switch__track",p?void 0:q.value]),style:J(B.value),onClick:L},[r["track-true"]&&c("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](Z)]),r["track-false"]&&c("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](Z)])])},input:W=>{let{inputNode:q,icon:B,backgroundColorClasses:Ee,backgroundColorStyles:Me}=W;return c(ae,null,[q,c("div",{class:O(["v-switch__thumb",{"v-switch__thumb--filled":B||t.loading},t.inset||p?void 0:Ee.value]),style:J(t.inset?void 0:Me.value)},[r.thumb?a(Le,{defaults:{VIcon:{icon:B,size:"x-small"}}},{default:()=>[r.thumb({...Z,icon:B})]}):a(je,null,{default:()=>[t.loading?a(Ge,{name:"v-switch",active:!0,color:Q.value===!1?void 0:h.value},{default:ne=>r.loader?r.loader(ne):a(Oe,{active:ne.isActive,color:ne.color,indeterminate:!0,size:"16",width:"2"},null)}):B&&a(K,{key:String(B),icon:B,size:"x-small"},null)]})])])}})}})}),xe({},x)}}),fe=Symbol.for("vuetify:v-tabs"),At=Y({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ke(Ke({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ce=X()({name:"VTab",props:At(),setup(t,e){let{slots:i,attrs:r}=e;const{textColorClasses:l,textColorStyles:s}=qe(()=>t.sliderColor),u=G(),o=G(),f=T(()=>t.direction==="horizontal"),b=T(()=>{var x,p;return((p=(x=u.value)==null?void 0:x.group)==null?void 0:p.isSelected.value)??!1});function S(x){var h,g;let{value:p}=x;if(p){const k=(g=(h=u.value)==null?void 0:h.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),E=o.value;if(!k||!E)return;const L=getComputedStyle(k).color,w=k.getBoundingClientRect(),F=E.getBoundingClientRect(),v=f.value?"x":"y",_=f.value?"X":"Y",y=f.value?"right":"bottom",I=f.value?"width":"height",le=w[v],re=F[v],M=le>re?w[y]-F[y]:w[v]-F[v],Q=Math.sign(M)>0?f.value?"right":"bottom":Math.sign(M)<0?f.value?"left":"top":"center",W=(Math.abs(M)+(Math.sign(M)<0?w[I]:F[I]))/Math.max(w[I],F[I])||0,q=w[I]/F[I]||0,B=1.5;Je(E,{backgroundColor:[L,"currentcolor"],transform:[`translate${_}(${M}px) scale${_}(${q})`,`translate${_}(${M/B}px) scale${_}(${(W-1)/B+1})`,"none"],transformOrigin:Array(3).fill(Q)},{duration:225,easing:Qe})}}return H(()=>{const x=P.filterProps(t);return a(P,N({symbol:fe,ref:u,class:["v-tab",t.class],style:t.style,tabindex:b.value?0:-1,role:"tab","aria-selected":String(b.value),active:!1},x,r,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":S}),{...i,default:()=>{var p;return c(ae,null,[((p=i.default)==null?void 0:p.call(i))??t.text,!t.hideSlider&&c("div",{ref:o,class:O(["v-tab__slider",l.value]),style:J(s.value)},null)])}})}),xe({},u)}}),Tt=t=>{const{touchstartX:e,touchendX:i,touchstartY:r,touchendY:l}=t,s=.5,u=16;t.offsetX=i-e,t.offsetY=l-r,Math.abs(t.offsetY)<s*Math.abs(t.offsetX)&&(t.left&&i<e-u&&t.left(t),t.right&&i>e+u&&t.right(t)),Math.abs(t.offsetX)<s*Math.abs(t.offsetY)&&(t.up&&l<r-u&&t.up(t),t.down&&l>r+u&&t.down(t))};function Dt(t,e){var r;const i=t.changedTouches[0];e.touchstartX=i.clientX,e.touchstartY=i.clientY,(r=e.start)==null||r.call(e,{originalEvent:t,...e})}function Pt(t,e){var r;const i=t.changedTouches[0];e.touchendX=i.clientX,e.touchendY=i.clientY,(r=e.end)==null||r.call(e,{originalEvent:t,...e}),Tt(e)}function Ut(t,e){var r;const i=t.changedTouches[0];e.touchmoveX=i.clientX,e.touchmoveY=i.clientY,(r=e.move)==null||r.call(e,{originalEvent:t,...e})}function Et(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:i=>Dt(i,e),touchend:i=>Pt(i,e),touchmove:i=>Ut(i,e)}}function Mt(t,e){var o;const i=e.value,r=i!=null&&i.parent?t.parentElement:t,l=(i==null?void 0:i.options)??{passive:!0},s=(o=e.instance)==null?void 0:o.$.uid;if(!r||s===void 0)return;const u=Et(e.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[s]=u,we(u).forEach(f=>{r.addEventListener(f,u[f],l)})}function zt(t,e){var s,u;const i=(s=e.value)!=null&&s.parent?t.parentElement:t,r=(u=e.instance)==null?void 0:u.$.uid;if(!(i!=null&&i._touchHandlers)||r===void 0)return;const l=i._touchHandlers[r];we(l).forEach(o=>{i.removeEventListener(o,l[o])}),delete i._touchHandlers[r]}const me={mounted:Mt,unmounted:zt},Ae=Symbol.for("vuetify:v-window"),Te=Symbol.for("vuetify:v-window-group"),De=Y({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ie(),...Se(),...at()},"VWindow"),ye=X()({name:"VWindow",directives:{vTouch:me},props:De(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:i}=e;const{themeClasses:r}=Ze(t),{isRtl:l}=$e(),{t:s}=et(),u=tt(t,Te),o=G(),f=T(()=>l.value?!t.reverse:t.reverse),b=ue(!1),S=T(()=>{const v=t.direction==="vertical"?"y":"x",y=(f.value?!b.value:b.value)?"-reverse":"";return`v-window-${v}${y}-transition`}),x=ue(0),p=G(void 0),h=T(()=>u.items.value.findIndex(v=>u.selected.value.includes(v.id)));ot(h,(v,_)=>{const y=u.items.value.length,I=y-1;y<=2?b.value=v<_:v===I&&_===0?b.value=!0:v===0&&_===I?b.value=!1:b.value=v<_}),lt(Ae,{transition:S,isReversed:b,transitionCount:x,transitionHeight:p,rootRef:o});const g=D(()=>t.continuous||h.value!==0),k=D(()=>t.continuous||h.value!==u.items.value.length-1);function E(){g.value&&u.prev()}function L(){k.value&&u.next()}const w=T(()=>{const v=[],_={icon:l.value?t.nextIcon:t.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:u.prev,"aria-label":s("$vuetify.carousel.prev")};v.push(g.value?i.prev?i.prev({props:_}):a(P,_,null):c("div",null,null));const y={icon:l.value?t.prevIcon:t.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:u.next,"aria-label":s("$vuetify.carousel.next")};return v.push(k.value?i.next?i.next({props:y}):a(P,y,null):c("div",null,null)),v}),F=T(()=>t.touch===!1?t.touch:{...{left:()=>{f.value?E():L()},right:()=>{f.value?L():E()},start:_=>{let{originalEvent:y}=_;y.stopPropagation()}},...t.touch===!0?{}:t.touch});return H(()=>Fe(a(t.tag,{ref:o,class:O(["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover","v-window--vertical-arrows":!!t.verticalArrows},r.value,t.class]),style:J(t.style)},{default:()=>{var v,_;return[c("div",{class:"v-window__container",style:{height:p.value}},[(v=i.default)==null?void 0:v.call(i,{group:u}),t.showArrows!==!1&&c("div",{class:O(["v-window__controls",{"v-window__controls--left":t.verticalArrows==="left"||t.verticalArrows===!0},{"v-window__controls--right":t.verticalArrows==="right"}])},[w.value])]),(_=i.additional)==null?void 0:_.call(i,{group:u})]}}),[[me,F.value]])),{group:u}}}),Nt=Y({...ke(De(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Pe=X()({name:"VTabsWindow",props:Nt(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:i}=e;const r=Be(fe,null),l=oe(t,"modelValue"),s=T({get(){var u;return l.value!=null||!r?l.value:(u=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:u.value},set(u){l.value=u}});return H(()=>{const u=ye.filterProps(t);return a(ye,N({_as:"VTabsWindow"},u,{modelValue:s.value,"onUpdate:modelValue":o=>s.value=o,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),i)}),{}}}),Ue=Y({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ie(),...dt(),...ut()},"VWindowItem"),Ce=X()({name:"VWindowItem",directives:{vTouch:me},props:Ue(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:i}=e;const r=Be(Ae),l=rt(t,Te),{isBooted:s}=nt();if(!r||!l)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const u=ue(!1),o=T(()=>s.value&&(r.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function f(){!u.value||!r||(u.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function b(){var g;u.value||!r||(u.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=de((g=r.rootRef.value)==null?void 0:g.clientHeight)),r.transitionCount.value+=1)}function S(){f()}function x(g){u.value&&ct(()=>{!o.value||!u.value||!r||(r.transitionHeight.value=de(g.clientHeight))})}const p=T(()=>{const g=r.isReversed.value?t.reverseTransition:t.transition;return o.value?{name:typeof g!="string"?r.transition.value:g,onBeforeEnter:b,onAfterEnter:f,onEnterCancelled:S,onBeforeLeave:b,onAfterLeave:f,onLeaveCancelled:S,onEnter:x}:!1}),{hasContent:h}=it(t,l.isSelected);return H(()=>a(st,{transition:p.value,disabled:!s.value},{default:()=>{var g;return[Fe(c("div",{class:O(["v-window-item",l.selectedClass.value,t.class]),style:J(t.style)},[h.value&&((g=i.default)==null?void 0:g.call(i))]),[[mt,l.isSelected.value]])]}})),{groupItem:l}}}),Wt=Y({...Ue()},"VTabsWindowItem"),ve=X()({name:"VTabsWindowItem",props:Wt(),setup(t,e){let{slots:i}=e;return H(()=>{const r=Ce.filterProps(t);return a(Ce,N({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",t.class],style:t.style}),i)}),{}}});function Rt(t){return t?t.map(e=>bt(e)?e:{text:e,value:e}):[]}const Xt=Y({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,..._t({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ht(),...Se()},"VTabs"),Yt=X()({name:"VTabs",props:Xt(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:i,slots:r}=e;const l=oe(t,"modelValue"),s=T(()=>Rt(t.items)),{densityClasses:u}=vt(t),{backgroundColorClasses:o,backgroundColorStyles:f}=ft(()=>t.bgColor),{scopeId:b}=pt();return gt({VTab:{color:D(()=>t.color),direction:D(()=>t.direction),stacked:D(()=>t.stacked),fixed:D(()=>t.fixedTabs),sliderColor:D(()=>t.sliderColor),hideSlider:D(()=>t.hideSlider)}}),H(()=>{const S=he.filterProps(t),x=!!(r.window||t.items.length>0);return c(ae,null,[a(he,N(S,{modelValue:l.value,"onUpdate:modelValue":p=>l.value=p,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},u.value,o.value,t.class],style:[{"--v-tabs-height":de(t.height)},f.value,t.style],role:"tablist",symbol:fe},b,i),{default:()=>{var p;return[((p=r.default)==null?void 0:p.call(r))??s.value.map(h=>{var g;return((g=r.tab)==null?void 0:g.call(r,{item:h}))??a(ce,N(h,{key:h.text,value:h.value}),{default:r[`tab.${h.value}`]?()=>{var k;return(k=r[`tab.${h.value}`])==null?void 0:k.call(r,{item:h})}:void 0})})]}}),x&&a(Pe,N({modelValue:l.value,"onUpdate:modelValue":p=>l.value=p,key:"tabs-window"},b),{default:()=>{var p;return[s.value.map(h=>{var g;return((g=r.item)==null?void 0:g.call(r,{item:h}))??a(ve,{value:h.value},{default:()=>{var k;return(k=r[`item.${h.value}`])==null?void 0:k.call(r,{item:h})}})}),(p=r.window)==null?void 0:p.call(r)]}})])}),{}}});let Ht=new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2});const Lt={data(){return{proveedores:[],url:"https://api-tpv.confinsoft.com/public",numeroFacturaMascara:"",esCompraFiscal:!0,compra:{tipo_comprobante:null,punto_venta:null,numero_comprobante:"",codigo_documento_vendedor:80,cuit_proveedor:"",monto_no_fiscal:"0",neto_gravado_21:"0",iva_21:"0",neto_gravado_10_5:"0",iva_10_5:"0",neto_gravado_27:"0",iva_27:"0",neto_gravado_5:"0",iva_5:"0",neto_gravado_2_5:"0",iva_2_5:"0",exento:"0",no_gravado:"0",percepciones_iva:"0",percepciones_iibb:"0",otros_tributos:"0"},articulo:{codigo:"",cantidad:0},modalBusquedaArticulo:!1,search:"",headers:[{text:"Código",value:"codigo"},{text:"Descripción",value:"descripcion"},{text:"Precio",value:"precio"},{text:"Stock",value:"stock"},{text:"Acciones",value:"actions",sortable:!1}],articulos:[],cargando:!1,detalle:[],fecha:new Date().toISOString().substr(0,10),proveedor:"",tab:"one",cargarDetalle:!1}},mounted(){this.getProveedores()},methods:{getProveedores(){ee.get(this.url+"/"+this.usuario.tpv+"/proveedores",{headers:{Authorization:this.usuario.token}}).then(t=>{this.proveedores=t.data}).catch(t=>{console.log(t)})},cargarDatosProveedor(){const t=this.proveedores.find(e=>e.id===this.proveedor);t&&t.cuit&&(this.compra.cuit_proveedor=t.cuit)},calcularTotal(){},formatearCampoMoneda(t,e){let i=e.target.value;if(i=i.replace(/[^0-9,]/g,""),!i||i===""){this.compra[t]="";return}const r=i.split(",");r.length>2&&(i=r[0]+","+r.slice(1).join("")),r.length===2&&r[1].length>2&&(i=r[0]+","+r[1].substring(0,2));const l=i.split(",");let s=l[0];const u=l[1];s&&(s=s.replace(/\B(?=(\d{3})+(?!\d))/g,".")),u!==void 0?this.compra[t]=s+","+u:this.compra[t]=s},finalizarFormato(t){let e=this.compra[t];if(!e||e==="0"||e===""){if(this.compra[t]="0,00",t.startsWith("neto_gravado_")){const r=t.replace("neto_gravado_","");this.compra["iva_"+r]="0,00"}return}e=e.toString().replace(/\./g,"").replace(",",".");const i=parseFloat(e);if(isNaN(i)){this.compra[t]="0,00";return}if(this.compra[t]=i.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2}),t.startsWith("neto_gravado_")){const r=t.replace("neto_gravado_","");let l=0;r==="21"?l=.21:r==="10_5"?l=.105:r==="27"?l=.27:r==="5"?l=.05:r==="2_5"&&(l=.025);const s=i*l;this.compra["iva_"+r]=s.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}},formatearPuntoVenta(){this.compra.punto_venta&&(this.compra.punto_venta=String(this.compra.punto_venta).padStart(5,"0"))},aplicarMascaraFactura(t){let e=this.numeroFacturaMascara.replace(/[^0-9]/g,"");e.length>13&&(e=e.substring(0,13)),e.length>5?this.numeroFacturaMascara=e.substring(0,5)+"-"+e.substring(5):this.numeroFacturaMascara=e},formatearNumeroFactura(){const t=this.numeroFacturaMascara.replace(/[^0-9]/g,"");if(t.length>=5){const e=t.substring(0,5).padStart(5,"0"),i=t.substring(5).padStart(8,"0");this.compra.punto_venta=e,this.compra.numero_comprobante=i,this.numeroFacturaMascara=e+"-"+i}else if(t.length>0){const e=t.padStart(5,"0");this.compra.punto_venta=e,this.compra.numero_comprobante="",this.numeroFacturaMascara=e+"-"}},checkEnter(t){(t.key==="Enter"||t.keyCode==="13"||t.key==="Tab")&&this.getArticulo()},buscarArticulos(){this.search.length<3||(this.cargando=!0,ee.get(this.url+"/"+this.usuario.tpv+"/articulos/buscar/"+this.search,{headers:{Authorization:this.usuario.token}}).then(t=>{this.articulos=t.data.data}).catch(t=>{console.log(t)}).finally(()=>this.cargando=!1))},seleccionarArticulo(t){this.articulo.id=t.id,this.articulo.codigo=t.codigo,this.articulo.descripcion=t.descripcion,this.articulo.precio=t.precio,this.articulo.stock=t.stock,this.articulo.costo=t.costo,this.articulo.iva=t.iva,this.articulo.foto=t.foto,this.modalBusquedaArticulo=!1,this.$nextTick(()=>{document.getElementById("codigo").focus()})},agregarArticulo(){if(this.articulo.cantidad===0||!this.articulo.codigo){this.$swal("Error","Debe ingresar un artículo y una cantidad","error");return}this.articulo.subtotal=this.articulo.costo*this.articulo.cantidad,this.detalle.push({...this.articulo}),this.articulo={codigo:"",cantidad:0},this.$nextTick(()=>{document.getElementById("codigo").focus()})},getArticulo(){this.articulo.codigo&&ee.get(this.url+"/"+this.usuario.tpv+"/articulos/"+this.articulo.codigo,{headers:{Authorization:this.usuario.token}}).then(t=>{if(!t.data.id){this.$swal("Artículo no encontrado","El artículo no se encuentra registrado","error");return}this.articulo=t.data,this.articulo.cantidad=0,document.getElementById("precioArticulo").focus()}).catch(t=>{this.$swal("Error","No se pudo obtener el artículo","error"),console.log(t)})},eliminarArticulo(t){this.detalle=this.detalle.filter(e=>e.codigo!==t.codigo)},guardarCompra(){if(!this.proveedor){this.$swal("Error","Debe seleccionar un proveedor","error");return}if(this.esCompraFiscal&&!this.compra.tipo_comprobante){this.$swal("Error","Debe seleccionar el tipo de comprobante","error");return}if(!this.esCompraFiscal&&this.totalCompra===0){this.$swal("Error","Debe ingresar el monto de la compra","error");return}if(this.cargarDetalle&&this.detalle.length===0){this.$swal("Error","Debe agregar al menos un artículo o desactivar la opción de cargar detalle","error");return}this.$swal({title:"¿Estás seguro?",text:"¿Deseas guardar la compra?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, guardar",cancelButtonText:"No, cancelar"}).then(t=>{t.isConfirmed&&this.enviarDatos()})},enviarDatos(){const t=i=>{if(!i||i==="0")return 0;const r=i.toString().replace(/\./g,"").replace(",",".");return parseFloat(r)||0},e={proveedor_id:this.proveedor,fecha:this.fecha,monto:this.totalCompra,es_compra_fiscal:this.esCompraFiscal?1:0,tipo_comprobante:this.esCompraFiscal?this.compra.tipo_comprobante:null,punto_venta:this.esCompraFiscal?this.compra.punto_venta:null,numero_comprobante:this.esCompraFiscal?this.compra.numero_comprobante:null,codigo_documento_vendedor:this.esCompraFiscal?this.compra.codigo_documento_vendedor:null,cuit_proveedor:this.esCompraFiscal?this.compra.cuit_proveedor:null,neto_gravado_21:this.esCompraFiscal?t(this.compra.neto_gravado_21):0,iva_21:this.esCompraFiscal?t(this.compra.iva_21):0,neto_gravado_10_5:this.esCompraFiscal?t(this.compra.neto_gravado_10_5):0,iva_10_5:this.esCompraFiscal?t(this.compra.iva_10_5):0,neto_gravado_27:this.esCompraFiscal?t(this.compra.neto_gravado_27):0,iva_27:this.esCompraFiscal?t(this.compra.iva_27):0,neto_gravado_5:this.esCompraFiscal?t(this.compra.neto_gravado_5):0,iva_5:this.esCompraFiscal?t(this.compra.iva_5):0,neto_gravado_2_5:this.esCompraFiscal?t(this.compra.neto_gravado_2_5):0,iva_2_5:this.esCompraFiscal?t(this.compra.iva_2_5):0,exento:this.esCompraFiscal?t(this.compra.exento):0,no_gravado:this.esCompraFiscal?t(this.compra.no_gravado):0,percepciones_iva:this.esCompraFiscal?t(this.compra.percepciones_iva):0,percepciones_iibb:this.esCompraFiscal?t(this.compra.percepciones_iibb):0,otros_tributos:this.esCompraFiscal?t(this.compra.otros_tributos):0};this.cargarDetalle&&(e.detalle=JSON.stringify(this.detalle)),ee.post(this.url+"/"+this.usuario.tpv+"/compras",e,{headers:{Authorization:this.usuario.token}}).then(i=>{i.data=="ok"||i.data.id?(this.$swal("Guardado","La compra se ha registrado correctamente","success"),this.resetFormulario()):this.$swal("Error","No se pudo guardar la compra","error")}).catch(i=>{this.$swal("Error","No se pudo guardar la compra","error"),console.log(i)})},resetFormulario(){this.detalle=[],this.fecha=new Date().toISOString().substr(0,10),this.proveedor="",this.cargarDetalle=!1,this.tab="one",this.numeroFacturaMascara="",this.esCompraFiscal=!0,this.compra={tipo_comprobante:null,punto_venta:null,numero_comprobante:"",monto_no_fiscal:"0",codigo_documento_vendedor:80,cuit_proveedor:"",neto_gravado_21:"0",iva_21:"0",neto_gravado_10_5:"0",iva_10_5:"0",neto_gravado_27:"0",iva_27:"0",neto_gravado_5:"0",iva_5:"0",neto_gravado_2_5:"0",iva_2_5:"0",exento:"0",no_gravado:"0",percepciones_iva:"0",percepciones_iibb:"0",otros_tributos:"0"}},formatear(t){return Ht.format(t)}},computed:{totalCompra(){const t=e=>{if(!e||e==="0"||e===""||e==="0,00")return 0;const i=e.toString().replace(/\./g,"").replace(",","."),r=parseFloat(i);return isNaN(r)?0:r};return this.esCompraFiscal?t(this.compra.neto_gravado_21)+t(this.compra.iva_21)+t(this.compra.neto_gravado_10_5)+t(this.compra.iva_10_5)+t(this.compra.neto_gravado_27)+t(this.compra.iva_27)+t(this.compra.neto_gravado_5)+t(this.compra.iva_5)+t(this.compra.neto_gravado_2_5)+t(this.compra.iva_2_5)+t(this.compra.exento)+t(this.compra.no_gravado)+t(this.compra.percepciones_iva)+t(this.compra.percepciones_iibb)+t(this.compra.otros_tributos):t(this.compra.monto_no_fiscal)}},setup(){return{usuario:yt()}}},jt={class:"text-caption"};function Gt(t,e,i,r,l,s){const u=Ct("router-link");return A(),U($,{class:"bg-grey-lighten-2 pl-5 pr-5 mt-1",elevation:"0"},{default:n(()=>[a(Yt,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=o=>l.tab=o),class:"bg-white"},{default:n(()=>[a(ce,{value:"one"},{default:n(()=>[...e[63]||(e[63]=[C("Datos de Factura",-1)])]),_:1}),a(ce,{value:"two",disabled:!l.cargarDetalle},{default:n(()=>[...e[64]||(e[64]=[C("Detalle de Artículos",-1)])]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),a(te,{class:"pt-0"},{default:n(()=>[a(Pe,{modelValue:l.tab,"onUpdate:modelValue":e[62]||(e[62]=o=>l.tab=o)},{default:n(()=>[a(ve,{value:"one"},{default:n(()=>[a(V,{class:"mt-2",justify:"center"},{default:n(()=>[a(d,{cols:"12",md:"10"},{default:n(()=>[a($,null,{default:n(()=>[a(ie,{class:"d-flex align-center"},{default:n(()=>[a(K,{class:"mr-2"},{default:n(()=>[...e[65]||(e[65]=[C("mdi-receipt-text-outline",-1)])]),_:1}),e[66]||(e[66]=C(" Datos de la Compra ",-1))]),_:1}),a(te,null,{default:n(()=>[a(_e,null,{default:n(()=>[a(V,null,{default:n(()=>[a(d,{md:"6",cols:"12"},{default:n(()=>[a(se,{items:l.proveedores,label:"Proveedor *","item-title":"nombre","item-value":"id",variant:"outlined",modelValue:l.proveedor,"onUpdate:modelValue":[e[1]||(e[1]=o=>l.proveedor=o),s.cargarDatosProveedor]},null,8,["items","modelValue","onUpdate:modelValue"]),c("p",jt,[e[68]||(e[68]=C("Si es un nuevo proveedor, podes ",-1)),a(u,{class:"text-caption",to:{name:"listado-de-proveedores"}},{default:n(()=>[...e[67]||(e[67]=[C("agregarlo aquí",-1)])]),_:1})])]),_:1}),a(d,{md:"6",cols:"12"},{default:n(()=>[a(m,{label:"Fecha *",type:"date",variant:"outlined",modelValue:l.fecha,"onUpdate:modelValue":e[2]||(e[2]=o=>l.fecha=o)},null,8,["modelValue"])]),_:1})]),_:1}),a(R,{class:"my-4"}),a(V,null,{default:n(()=>[a(d,{cols:"12"},{default:n(()=>[a(Ve,{modelValue:l.esCompraFiscal,"onUpdate:modelValue":e[3]||(e[3]=o=>l.esCompraFiscal=o),color:"primary",label:"¿Es una compra con factura fiscal?",hint:"Active si tiene factura con datos fiscales (IVA, CUIT, etc.)","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),l.esCompraFiscal?(A(),U(R,{key:0,class:"my-4"})):z("",!0),l.esCompraFiscal?(A(),U(V,{key:1},{default:n(()=>[a(d,{cols:"12"},{default:n(()=>[...e[69]||(e[69]=[c("h4",{class:"mb-2"},"Datos del Comprobante",-1)])]),_:1}),a(d,{md:"4",cols:"12"},{default:n(()=>[a(se,{modelValue:l.compra.tipo_comprobante,"onUpdate:modelValue":e[4]||(e[4]=o=>l.compra.tipo_comprobante=o),items:[{value:1,title:"Factura A"},{value:6,title:"Factura B"},{value:11,title:"Factura C"},{value:51,title:"Factura M"}],label:"Tipo de Comprobante *","item-title":"title","item-value":"value",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(d,{md:"8",cols:"12"},{default:n(()=>[a(m,{modelValue:l.numeroFacturaMascara,"onUpdate:modelValue":e[5]||(e[5]=o=>l.numeroFacturaMascara=o),label:"Número de Factura (del proveedor) *",variant:"outlined",placeholder:"00001-00000001",hint:"Formato: 00001-00000001",onInput:s.aplicarMascaraFactura,onBlur:s.formatearNumeroFactura},null,8,["modelValue","onInput","onBlur"])]),_:1})]),_:1})):z("",!0),l.esCompraFiscal?(A(),U(V,{key:2},{default:n(()=>[a(d,{md:"6",cols:"12"},{default:n(()=>[a(se,{modelValue:l.compra.codigo_documento_vendedor,"onUpdate:modelValue":e[6]||(e[6]=o=>l.compra.codigo_documento_vendedor=o),items:[{value:80,title:"CUIT"},{value:96,title:"DNI"},{value:86,title:"CDI"}],label:"Tipo de Documento Proveedor","item-title":"title","item-value":"value",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(d,{md:"6",cols:"12"},{default:n(()=>[a(m,{modelValue:l.compra.cuit_proveedor,"onUpdate:modelValue":e[7]||(e[7]=o=>l.compra.cuit_proveedor=o),label:"CUIT/DNI Proveedor",variant:"outlined",hint:"Solo números"},null,8,["modelValue"])]),_:1})]),_:1})):z("",!0),a(R,{class:"my-4"}),l.esCompraFiscal?z("",!0):(A(),U(V,{key:3},{default:n(()=>[a(d,{cols:"12"},{default:n(()=>[...e[70]||(e[70]=[c("h4",{class:"mb-2"},"Monto de la Compra",-1)])]),_:1}),a(d,{md:"6",cols:"12"},{default:n(()=>[a(m,{modelValue:l.compra.monto_no_fiscal,"onUpdate:modelValue":e[8]||(e[8]=o=>l.compra.monto_no_fiscal=o),label:"Monto Total *",variant:"outlined",type:"text",prefix:"$",onInput:e[9]||(e[9]=o=>s.formatearCampoMoneda("monto_no_fiscal",o)),onBlur:e[10]||(e[10]=o=>s.finalizarFormato("monto_no_fiscal")),hint:"Ingrese el monto total de la compra"},null,8,["modelValue"])]),_:1})]),_:1})),l.esCompraFiscal?(A(),U(V,{key:4},{default:n(()=>[a(d,{cols:"12"},{default:n(()=>[...e[71]||(e[71]=[c("h4",{class:"mb-2"},"Discriminación de IVA",-1)])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.neto_gravado_21,"onUpdate:modelValue":e[11]||(e[11]=o=>l.compra.neto_gravado_21=o),label:"Neto 21%",variant:"outlined",type:"text",prefix:"$",onInput:e[12]||(e[12]=o=>s.formatearCampoMoneda("neto_gravado_21",o)),onBlur:e[13]||(e[13]=o=>s.finalizarFormato("neto_gravado_21"))},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.iva_21,"onUpdate:modelValue":e[14]||(e[14]=o=>l.compra.iva_21=o),label:"IVA 21%",variant:"outlined",type:"text",prefix:"$",readonly:"","bg-color":"grey-lighten-3"},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.neto_gravado_10_5,"onUpdate:modelValue":e[15]||(e[15]=o=>l.compra.neto_gravado_10_5=o),label:"Neto 10.5%",variant:"outlined",type:"text",prefix:"$",onInput:e[16]||(e[16]=o=>s.formatearCampoMoneda("neto_gravado_10_5",o)),onBlur:e[17]||(e[17]=o=>s.finalizarFormato("neto_gravado_10_5"))},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.iva_10_5,"onUpdate:modelValue":e[18]||(e[18]=o=>l.compra.iva_10_5=o),label:"IVA 10.5%",variant:"outlined",type:"text",prefix:"$",readonly:"","bg-color":"grey-lighten-3"},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.neto_gravado_27,"onUpdate:modelValue":e[19]||(e[19]=o=>l.compra.neto_gravado_27=o),label:"Neto 27%",variant:"outlined",type:"text",prefix:"$",onInput:e[20]||(e[20]=o=>s.formatearCampoMoneda("neto_gravado_27",o)),onBlur:e[21]||(e[21]=o=>s.finalizarFormato("neto_gravado_27"))},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.iva_27,"onUpdate:modelValue":e[22]||(e[22]=o=>l.compra.iva_27=o),label:"IVA 27%",variant:"outlined",type:"text",prefix:"$",readonly:"","bg-color":"grey-lighten-3"},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.neto_gravado_5,"onUpdate:modelValue":e[23]||(e[23]=o=>l.compra.neto_gravado_5=o),label:"Neto 5%",variant:"outlined",type:"text",prefix:"$",onInput:e[24]||(e[24]=o=>s.formatearCampoMoneda("neto_gravado_5",o)),onBlur:e[25]||(e[25]=o=>s.finalizarFormato("neto_gravado_5"))},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.iva_5,"onUpdate:modelValue":e[26]||(e[26]=o=>l.compra.iva_5=o),label:"IVA 5%",variant:"outlined",type:"text",prefix:"$",readonly:"","bg-color":"grey-lighten-3"},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.neto_gravado_2_5,"onUpdate:modelValue":e[27]||(e[27]=o=>l.compra.neto_gravado_2_5=o),label:"Neto 2.5%",variant:"outlined",type:"text",prefix:"$",onInput:e[28]||(e[28]=o=>s.formatearCampoMoneda("neto_gravado_2_5",o)),onBlur:e[29]||(e[29]=o=>s.finalizarFormato("neto_gravado_2_5"))},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.iva_2_5,"onUpdate:modelValue":e[30]||(e[30]=o=>l.compra.iva_2_5=o),label:"IVA 2.5%",variant:"outlined",type:"text",prefix:"$",readonly:"","bg-color":"grey-lighten-3"},null,8,["modelValue"])]),_:1})]),_:1})):z("",!0),a(R,{class:"my-4"}),l.esCompraFiscal?(A(),U(V,{key:5},{default:n(()=>[a(d,{cols:"12"},{default:n(()=>[...e[72]||(e[72]=[c("h4",{class:"mb-2"},"Otros Conceptos",-1)])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.exento,"onUpdate:modelValue":e[31]||(e[31]=o=>l.compra.exento=o),label:"Exento",variant:"outlined",type:"text",prefix:"$",onInput:e[32]||(e[32]=o=>s.formatearCampoMoneda("exento",o)),onBlur:e[33]||(e[33]=o=>s.finalizarFormato("exento"))},null,8,["modelValue"])]),_:1}),a(d,{md:"3",cols:"6"},{default:n(()=>[a(m,{modelValue:l.compra.no_gravado,"onUpdate:modelValue":e[34]||(e[34]=o=>l.compra.no_gravado=o),label:"No Gravado",variant:"outlined",type:"text",prefix:"$",onInput:e[35]||(e[35]=o=>s.formatearCampoMoneda("no_gravado",o)),onBlur:e[36]||(e[36]=o=>s.finalizarFormato("no_gravado"))},null,8,["modelValue"])]),_:1}),a(d,{md:"2",cols:"4"},{default:n(()=>[a(m,{modelValue:l.compra.percepciones_iva,"onUpdate:modelValue":e[37]||(e[37]=o=>l.compra.percepciones_iva=o),label:"Percepciones IVA",variant:"outlined",type:"text",prefix:"$",onInput:e[38]||(e[38]=o=>s.formatearCampoMoneda("percepciones_iva",o)),onBlur:e[39]||(e[39]=o=>s.finalizarFormato("percepciones_iva"))},null,8,["modelValue"])]),_:1}),a(d,{md:"2",cols:"4"},{default:n(()=>[a(m,{modelValue:l.compra.percepciones_iibb,"onUpdate:modelValue":e[40]||(e[40]=o=>l.compra.percepciones_iibb=o),label:"Percepciones IIBB",variant:"outlined",type:"text",prefix:"$",onInput:e[41]||(e[41]=o=>s.formatearCampoMoneda("percepciones_iibb",o)),onBlur:e[42]||(e[42]=o=>s.finalizarFormato("percepciones_iibb"))},null,8,["modelValue"])]),_:1}),a(d,{md:"2",cols:"4"},{default:n(()=>[a(m,{modelValue:l.compra.otros_tributos,"onUpdate:modelValue":e[43]||(e[43]=o=>l.compra.otros_tributos=o),label:"Otros Tributos",variant:"outlined",type:"text",prefix:"$",onInput:e[44]||(e[44]=o=>s.formatearCampoMoneda("otros_tributos",o)),onBlur:e[45]||(e[45]=o=>s.finalizarFormato("otros_tributos"))},null,8,["modelValue"])]),_:1})]),_:1})):z("",!0),a(R,{class:"my-4"}),a(V,null,{default:n(()=>[a(d,{md:"6",cols:"12"},{default:n(()=>[a(m,{"model-value":s.formatear(s.totalCompra),label:"Total de la Factura",variant:"outlined",readonly:"",class:"text-h6","bg-color":"blue-grey-lighten-5"},null,8,["model-value"])]),_:1})]),_:1}),a(R,{class:"my-4"}),a(V,null,{default:n(()=>[a(d,{cols:"12"},{default:n(()=>[a(Ve,{modelValue:l.cargarDetalle,"onUpdate:modelValue":e[46]||(e[46]=o=>l.cargarDetalle=o),color:"primary",label:"¿Desea cargar el detalle de artículos para actualizar stock/precios?",hint:"Si no activa esta opción, solo se registrará la factura con los montos de IVA","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),a(V,{justify:"end",class:"mt-4"},{default:n(()=>[l.cargarDetalle?(A(),U(d,{key:0,cols:"auto"},{default:n(()=>[a(P,{color:"primary",onClick:e[47]||(e[47]=o=>l.tab="two"),"prepend-icon":"mdi-arrow-right"},{default:n(()=>[...e[73]||(e[73]=[C(" Ir a Detalle de Artículos ",-1)])]),_:1})]),_:1})):z("",!0),l.cargarDetalle?z("",!0):(A(),U(d,{key:1,cols:"auto"},{default:n(()=>[a(P,{color:"success",onClick:s.guardarCompra,"prepend-icon":"mdi-content-save"},{default:n(()=>[...e[74]||(e[74]=[C(" Guardar Compra ",-1)])]),_:1},8,["onClick"])]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(ve,{value:"two"},{default:n(()=>[a(V,{class:"mt-2",justify:"center"},{default:n(()=>[a(d,{cols:"12",md:"10"},{default:n(()=>[a($,null,{default:n(()=>[a(ie,{class:"d-flex align-center"},{default:n(()=>[a(K,{class:"mr-2"},{default:n(()=>[...e[75]||(e[75]=[C("mdi-package-variant",-1)])]),_:1}),e[76]||(e[76]=C(" Detalle de Artículos ",-1))]),_:1}),a(te,null,{default:n(()=>[a(_e,null,{default:n(()=>[a(V,null,{default:n(()=>[a(d,{md:"4",cols:"12"},{default:n(()=>[a(m,{label:"Código",outlined:"",modelValue:l.articulo.codigo,"onUpdate:modelValue":e[48]||(e[48]=o=>l.articulo.codigo=o),id:"codigo","append-icon":"mdi-magnify","onClick:append":e[49]||(e[49]=o=>l.modalBusquedaArticulo=!0),onKeydown:e[50]||(e[50]=o=>s.checkEnter(o)),variant:"outlined"},null,8,["modelValue"]),a(xt,{modelValue:l.modalBusquedaArticulo,"onUpdate:modelValue":e[54]||(e[54]=o=>l.modalBusquedaArticulo=o),"max-width":"800"},{default:n(()=>[a($,null,{default:n(()=>[a(ie,null,{default:n(()=>[...e[77]||(e[77]=[c("span",{class:"headline"},"Buscar artículo",-1)])]),_:1}),a(te,null,{default:n(()=>[a(m,{label:"Buscar",modelValue:l.search,"onUpdate:modelValue":e[51]||(e[51]=o=>l.search=o),"append-icon":"mdi-magnify","single-line":"","hide-details":"",variant:"outlined","onClick:append":s.buscarArticulos,onKeyup:e[52]||(e[52]=o=>s.buscarArticulos(o))},null,8,["modelValue","onClick:append"]),a(kt,{headers:l.headers,items:l.articulos,"item-key":"codigo",loading:l.cargando,"no-data-text":"No se encontraron artículos","items-per-page-text":"Artículos por página",hover:!0,"loading-text":"cargando artículos..."},{"item.actions":n(({item:o})=>[a(K,{small:"",onClick:f=>s.seleccionarArticulo(o),color:"blue"},{default:n(()=>[...e[78]||(e[78]=[C("mdi-check",-1)])]),_:1},8,["onClick"])]),_:1},8,["headers","items","loading"])]),_:1}),a(wt,null,{default:n(()=>[a(Ft),a(P,{color:"blue darken-1",text:"",onClick:e[53]||(e[53]=o=>{l.modalBusquedaArticulo=!1,l.search="",l.articulos=[]})},{default:n(()=>[...e[79]||(e[79]=[C("Cerrar",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(d,{md:"4",cols:"6"},{default:n(()=>[a(m,{label:"Descripción",modelValue:l.articulo.descripcion,"onUpdate:modelValue":e[55]||(e[55]=o=>l.articulo.descripcion=o),variant:"underlined",readonly:""},null,8,["modelValue"])]),_:1}),a(d,{md:"4",cols:"6"},{default:n(()=>[a(m,{label:"Stock actual",modelValue:l.articulo.stock,"onUpdate:modelValue":e[56]||(e[56]=o=>l.articulo.stock=o),variant:"underlined",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),a(V,null,{default:n(()=>[a(d,{md:"4",cols:"6"},{default:n(()=>[a(m,{label:"Costo",modelValue:l.articulo.costo,"onUpdate:modelValue":e[57]||(e[57]=o=>l.articulo.costo=o),variant:"outlined",type:"number"},null,8,["modelValue"])]),_:1}),a(d,{md:"4",cols:"6"},{default:n(()=>[a(m,{label:"Cantidad comprada",modelValue:l.articulo.cantidad,"onUpdate:modelValue":e[58]||(e[58]=o=>l.articulo.cantidad=o),variant:"outlined",type:"number"},null,8,["modelValue"])]),_:1}),a(d,{md:"4",cols:"6"},{default:n(()=>[a(m,{label:"Precio de venta",modelValue:l.articulo.precio,"onUpdate:modelValue":e[59]||(e[59]=o=>l.articulo.precio=o),variant:"outlined",id:"precioArticulo",type:"number",hint:"Actualizar precio de venta","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),a(V,{justify:"end"},{default:n(()=>[a(d,{cols:"12",md:"2"},{default:n(()=>[a(P,{color:"primary",onClick:e[60]||(e[60]=o=>s.agregarArticulo()),"prepend-icon":"mdi-plus"},{default:n(()=>[...e[80]||(e[80]=[C("Agregar",-1)])]),_:1})]),_:1})]),_:1}),a(R,{class:"my-4"}),a(V,null,{default:n(()=>[a(d,null,{default:n(()=>[a(St,null,{default:n(()=>[e[82]||(e[82]=c("thead",null,[c("tr",null,[c("th",null,"Código"),c("th",null,"Descripción"),c("th",null,"Precio"),c("th",null,"Costo"),c("th",null,"Cantidad"),c("th",null,"Subtotal"),c("th",null,"Acciones")])],-1)),c("tbody",null,[(A(!0),be(ae,null,It(l.detalle,o=>(A(),be("tr",{key:o.codigo},[c("td",null,j(o.codigo),1),c("td",null,j(o.descripcion),1),c("td",null,j(s.formatear(o.precio)),1),c("td",null,j(s.formatear(o.costo)),1),c("td",null,j(o.cantidad),1),c("td",null,j(s.formatear(o.subtotal)),1),c("td",null,[a(K,{small:"",onClick:f=>s.eliminarArticulo(o),color:"red"},{default:n(()=>[...e[81]||(e[81]=[C("mdi-delete",-1)])]),_:1},8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1}),a(V,{justify:"end",class:"mt-4"},{default:n(()=>[a(d,{cols:"auto"},{default:n(()=>[a(P,{color:"grey",onClick:e[61]||(e[61]=o=>l.tab="one"),"prepend-icon":"mdi-arrow-left",variant:"text"},{default:n(()=>[...e[83]||(e[83]=[C(" Volver ",-1)])]),_:1})]),_:1}),a(d,{cols:"auto"},{default:n(()=>[a(P,{color:"success",onClick:s.guardarCompra,"prepend-icon":"mdi-content-save"},{default:n(()=>[...e[84]||(e[84]=[C(" Guardar Compra ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const qt=Vt(Lt,[["render",Gt]]);export{qt as default};
