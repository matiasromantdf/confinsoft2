import{_ as p,W as c,X as g,Y as _,Z as e,a5 as v,a0 as d,b as t,a3 as i,a1 as m,a2 as r,$ as x,ab as b,a4 as y,a8 as h,V as C,ag as k,a7 as s,ak as u,ah as f,ai as T,F as B}from"./index-DpFWd6SB.js";import{V as S}from"./VAlert-BHAnpWWR.js";const A={data(){return{url:"https://api-tpv.confinsoft.com/public",ventas:[],comisionistas:[],desde:"",hasta:"",comisionista:"",cargando:!1,mensaje:!0}},methods:{getComisionistas(){c.get(this.url+"/"+this.usuario.tpv+"/comisionistas",{headers:{Authorization:this.usuario.token}}).then(a=>{this.comisionistas=a.data}).catch(a=>{console.log(a)})},getVentas(){this.cargando=!0,c.get(this.url+"/"+this.usuario.tpv+"/ventas/filtradas",{headers:{Authorization:this.usuario.token},params:{desde:this.desde,hasta:this.hasta,param:"periodo"}}).then(a=>{console.log(a.data),this.ventas=a.data}).catch(a=>{console.log(a)}).finally(()=>this.cargando=!1)}},mounted(){this.usuario.rol!=1&&this.$router.push("/no-autorizado"),this.getComisionistas();let a=new Date;this.desde=a.toISOString().substr(0,10),this.hasta=a.toISOString().substr(0,10)},setup(){return{usuario:g()}}},j=s("h3",null,"Ventas totales",-1),w=s("thead",null,[s("tr",null,[s("th",{class:"text-left"},"Total"),s("th",{class:"text-left"},"Ganancia"),s("th",{class:"text-left"},"Medios de pago")])],-1);function N(a,n,U,z,l,V){return d(),_(v,null,{default:e(()=>[t(r,null,{default:e(()=>[t(i,{class:"d-flex algin-items-center"},{default:e(()=>[t(S,{modelValue:l.mensaje,"onUpdate:modelValue":n[0]||(n[0]=o=>l.mensaje=o),border:"start","close-label":"Close Alert",color:"primary",title:"Aviso",variant:"tonal",closable:""},{default:e(()=>[m(" Los montos con tarjeta de crédito NO incluyen los recargos por financiación, ya que en esta vista se muestran los ingresos de dinero. ")]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(i,null,{default:e(()=>[t(x,null,{default:e(()=>[t(b,null,{default:e(()=>[j]),_:1}),t(y,null,{default:e(()=>[t(r,{class:"mt-1"},{default:e(()=>[t(i,{cols:"12",md:"4"},{default:e(()=>[t(h,{label:"desde",modelValue:l.desde,"onUpdate:modelValue":n[1]||(n[1]=o=>l.desde=o),type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12",md:"4"},{default:e(()=>[t(h,{label:"hasta",modelValue:l.hasta,"onUpdate:modelValue":n[2]||(n[2]=o=>l.hasta=o),type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12",md:"4",class:"text-center"},{default:e(()=>[t(C,{loading:l.cargando,color:"primary",onClick:n[3]||(n[3]=o=>V.getVentas())},{default:e(()=>[m("Buscar")]),_:1},8,["loading"])]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(i,null,{default:e(()=>[t(k,null,{default:e(()=>[w,s("tbody",null,[s("tr",null,[s("td",null,u(l.ventas.total),1),s("td",null,u(l.ventas.ganancia),1),s("td",null,[(d(!0),f(B,null,T(l.ventas.medios,o=>(d(),f("tr",null,[s("td",null,u(o.medio)+" :",1),s("td",null,u(o.monto),1)]))),256))])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const D=p(A,[["render",N]]);export{D as default};
