import{_ as p,Y as g,Z as d,$ as a,a8 as v,a1 as x,a2 as m,b as t,a6 as u,a7 as i,av as b,a4 as f,a0 as y,ad as C,h as l,a5 as _,aa as c,V as k,ai as T,al as r,aj as h,F as B,ak as S}from"./index-bJC8aIj-.js";const j={data(){return{url:"https://api-tpv.confinsoft.com/public",ventas:[],comisionistas:[],desde:"",hasta:"",comisionista:"",cargando:!1,mensaje:!0}},methods:{getComisionistas(){m.get(this.url+"/"+this.usuario.tpv+"/comisionistas",{headers:{Authorization:this.usuario.token}}).then(s=>{this.comisionistas=s.data}).catch(s=>{console.log(s)})},getVentas(){this.cargando=!0,m.get(this.url+"/"+this.usuario.tpv+"/ventas/filtradas",{headers:{Authorization:this.usuario.token},params:{desde:this.desde,hasta:this.hasta,param:"periodo"}}).then(s=>{console.log(s.data),this.ventas=s.data}).catch(s=>{console.log(s)}).finally(()=>this.cargando=!1)}},mounted(){this.usuario.rol!=1&&this.$router.push("/no-autorizado"),this.getComisionistas();let s=new Date;this.desde=s.toISOString().substr(0,10),this.hasta=s.toISOString().substr(0,10)},setup(){return{usuario:x()}}};function A(s,e,w,N,o,V){return d(),g(v,null,{default:a(()=>[t(u,null,{default:a(()=>[t(i,{class:"d-flex algin-items-center"},{default:a(()=>[t(b,{modelValue:o.mensaje,"onUpdate:modelValue":e[0]||(e[0]=n=>o.mensaje=n),border:"start","close-label":"Close Alert",color:"primary",title:"Aviso",variant:"tonal",closable:""},{default:a(()=>[...e[4]||(e[4]=[f(" Los montos con tarjeta de crédito NO incluyen los recargos por financiación, ya que en esta vista se muestran los ingresos de dinero. ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(u,null,{default:a(()=>[t(i,null,{default:a(()=>[t(y,null,{default:a(()=>[t(C,null,{default:a(()=>[...e[5]||(e[5]=[l("h3",null,"Ventas totales",-1)])]),_:1}),t(_,null,{default:a(()=>[t(u,{class:"mt-1"},{default:a(()=>[t(i,{cols:"12",md:"4"},{default:a(()=>[t(c,{label:"desde",modelValue:o.desde,"onUpdate:modelValue":e[1]||(e[1]=n=>o.desde=n),type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12",md:"4"},{default:a(()=>[t(c,{label:"hasta",modelValue:o.hasta,"onUpdate:modelValue":e[2]||(e[2]=n=>o.hasta=n),type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12",md:"4",class:"text-center"},{default:a(()=>[t(k,{loading:o.cargando,color:"primary",onClick:e[3]||(e[3]=n=>V.getVentas())},{default:a(()=>[...e[6]||(e[6]=[f("Buscar",-1)])]),_:1},8,["loading"])]),_:1})]),_:1}),t(u,null,{default:a(()=>[t(i,null,{default:a(()=>[t(T,null,{default:a(()=>[e[7]||(e[7]=l("thead",null,[l("tr",null,[l("th",{class:"text-left"},"Total"),l("th",{class:"text-left"},"Ganancia"),l("th",{class:"text-left"},"Medios de pago")])],-1)),l("tbody",null,[l("tr",null,[l("td",null,r(o.ventas.total),1),l("td",null,r(o.ventas.ganancia),1),l("td",null,[(d(!0),h(B,null,S(o.ventas.medios,n=>(d(),h("tr",null,[l("td",null,r(n.medio)+" :",1),l("td",null,r(n.monto),1)]))),256))])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const z=p(j,[["render",A]]);export{z as default};
