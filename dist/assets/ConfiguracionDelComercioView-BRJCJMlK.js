import{_ as V,Y as b,Z as g,$ as i,a8 as v,a1 as C,a2 as p,b as o,a6 as c,a7 as a,av as h,a4 as s,h as u,a0 as U,a5 as _,aa as r,a9 as m,aw as x,ag as B,ah as I,V as D}from"./index-HZlGuzwl.js";const T={data(){return{comercio:{cuit:"",direccion:"",telefono:"",iibb:"",inicio_actividades:"",impresion:"",nombre:""},modosDeImpresion:[{value:"2",title:"A4"},{value:"1",title:"Ticket 80mm"}],url:"https://api-tpv.confinsoft.com/public",loading:!1,mensaje:!0}},methods:{getComercioData(){this.loading=!0,p.get(this.url+"/"+this.usuario.tpv+"/comercio",{headers:{Authorization:this.usuario.token}}).then(n=>{this.comercio=n.data}).catch(n=>{console.log(n)}).finally(()=>{this.loading=!1})},saveComercioData(){this.$swal({title:"¿Estás seguro?",text:"Estás a punto de guardar los datos del comercio",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, guardar",cancelButtonText:"Cancelar"}).then(n=>{if(n.isConfirmed){let e=new FormData;e.append("nombre",this.comercio.nombre),e.append("cuit",this.comercio.cuit),e.append("direccion",this.comercio.direccion),e.append("telefono",this.comercio.telefono),e.append("iibb",this.comercio.iibb),e.append("inicio_actividades",this.comercio.inicio_actividades),e.append("impresion",this.comercio.impresion),e.append("condicion_iva",this.comercio.condicion_iva),e.append("tdf",this.comercio.tdf),document.getElementById("logo").files.length>0&&e.append("logo",document.getElementById("logo").files[0]),this.loading=!0,p.post(this.url+"/"+this.usuario.tpv+"/comercio/actualizar",e,{headers:{Authorization:this.usuario.token}}).then(d=>{console.log(d),this.$swal("Guardado","Los datos del comercio han sido guardados","success"),this.getComercioData()}).catch(d=>{this.$swal("Error","Ha ocurrido un error al guardar los datos","error"),console.log(d)}).finally(()=>{this.loading=!1})}})}},mounted(){this.usuario.rol!=1&&this.$router.push("/no-autorizado"),this.getComercioData()},setup(){return{usuario:C()}}};function w(n,e,d,A,l,f){return g(),b(v,null,{default:i(()=>[o(c,null,{default:i(()=>[o(a,{class:"d-flex align-items-center"},{default:i(()=>[o(h,{modelValue:l.mensaje,"onUpdate:modelValue":e[0]||(e[0]=t=>l.mensaje=t),border:"start","close-label":"Close Alert",color:"red-lighten-2",title:" ⚠️  Atención ",closable:""},{default:i(()=>[...e[11]||(e[11]=[s(" Los datos ingresandos en esta sección se utilizan para la facturación electrónica, especialmente ",-1),u("b",null,"condicion IVA",-1),s(", ",-1),u("b",null,"N° CUIT",-1),s(" y si reside en ",-1),u("b",null,"Tierra del Fuego",-1),u("br",null,null,-1),s(" Verificar que sean correctos a fin de evitar inconvenientes. ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(c,null,{default:i(()=>[o(a,null,{default:i(()=>[o(U,{title:"Datos del comercio",loading:l.loading},{default:i(()=>[o(_,null,{default:i(()=>[o(c,null,{default:i(()=>[o(a,{cols:"12",md:"6"},{default:i(()=>[o(r,{modelValue:l.comercio.nombre,"onUpdate:modelValue":e[1]||(e[1]=t=>l.comercio.nombre=t),label:"Nombre del comercio",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"6"},{default:i(()=>[o(r,{modelValue:l.comercio.cuit,"onUpdate:modelValue":e[2]||(e[2]=t=>l.comercio.cuit=t),label:"CUIT sólo numeros",variant:"outlined",type:"number"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:i(()=>[o(r,{modelValue:l.comercio.direccion,"onUpdate:modelValue":e[3]||(e[3]=t=>l.comercio.direccion=t),label:"Dirección",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:i(()=>[o(r,{modelValue:l.comercio.telefono,"onUpdate:modelValue":e[4]||(e[4]=t=>l.comercio.telefono=t),label:"Teléfono",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:i(()=>[o(m,{modelValue:l.comercio.condicion_iva,"onUpdate:modelValue":e[5]||(e[5]=t=>l.comercio.condicion_iva=t),items:["Responsable Inscripto","Monotributista"],label:"Condición frente al IVA",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:i(()=>[o(r,{modelValue:l.comercio.iibb,"onUpdate:modelValue":e[6]||(e[6]=t=>l.comercio.iibb=t),label:"Ingresos Brutos",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:i(()=>[o(r,{modelValue:l.comercio.inicio_actividades,"onUpdate:modelValue":e[7]||(e[7]=t=>l.comercio.inicio_actividades=t),label:"Inicio de actividades",variant:"outlined",type:"date"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:i(()=>[o(m,{modelValue:l.comercio.tdf,"onUpdate:modelValue":e[8]||(e[8]=t=>l.comercio.tdf=t),items:[{title:"Sí",value:1},{title:"No",value:0}],label:"Tierra del Fuego","item-title":"title","item-value":"value",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"6"},{default:i(()=>[o(m,{modelValue:l.comercio.impresion,"onUpdate:modelValue":e[9]||(e[9]=t=>l.comercio.impresion=t),items:l.modosDeImpresion,label:"Modo de impresión",variant:"outlined"},null,8,["modelValue","items"])]),_:1}),o(a,{cols:"12",md:"6"},{default:i(()=>[o(x,{label:"Logo",id:"logo",variant:"outlined"})]),_:1})]),_:1})]),_:1}),o(B,null,{default:i(()=>[o(I),o(D,{color:"primary",onClick:e[10]||(e[10]=t=>f.saveComercioData())},{default:i(()=>[...e[12]||(e[12]=[s("Guardar",-1)])]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})}const k=V(T,[["render",w]]);export{k as default};
