import{aa as V,ab as v,ac as b,ad as t,an as g,af as C,ag as p,h as o,ak as c,al as a,aI as h,ai as d,l as u,ae as _,aj as U,ap as r,ao as m,aJ as I,au as x,av as B,z as D}from"./index-Cd-cAxJ9.js";const T={data(){return{comercio:{cuit:"",direccion:"",telefono:"",iibb:"",pto_venta:"",inicio_actividades:"",impresion:"",nombre:""},modosDeImpresion:[{value:"2",title:"A4"},{value:"1",title:"Ticket 80mm"}],url:"https://api-tpv.confinsoft.com/public",loading:!1,mensaje:!0}},methods:{getComercioData(){this.loading=!0,p.get(this.url+"/"+this.usuario.tpv+"/comercio",{headers:{Authorization:this.usuario.token}}).then(n=>{this.comercio=n.data}).catch(n=>{console.log(n)}).finally(()=>{this.loading=!1})},saveComercioData(){this.$swal({title:"¿Estás seguro?",text:"Estás a punto de guardar los datos del comercio",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, guardar",cancelButtonText:"Cancelar"}).then(n=>{if(n.isConfirmed){let e=new FormData;e.append("nombre",this.comercio.nombre),e.append("cuit",this.comercio.cuit),e.append("direccion",this.comercio.direccion),e.append("telefono",this.comercio.telefono),e.append("iibb",this.comercio.iibb),e.append("pto_venta",this.comercio.pto_venta),e.append("inicio_actividades",this.comercio.inicio_actividades),e.append("impresion",this.comercio.impresion),e.append("condicion_iva",this.comercio.condicion_iva),e.append("tdf",this.comercio.tdf),document.getElementById("logo").files.length>0&&e.append("logo",document.getElementById("logo").files[0]),this.loading=!0,p.post(this.url+"/"+this.usuario.tpv+"/comercio/actualizar",e,{headers:{Authorization:this.usuario.token}}).then(s=>{console.log(s),this.$swal("Guardado","Los datos del comercio han sido guardados","success"),this.getComercioData()}).catch(s=>{this.$swal("Error","Ha ocurrido un error al guardar los datos","error"),console.log(s)}).finally(()=>{this.loading=!1})}})}},mounted(){this.usuario.rol!=1&&this.$router.push("/no-autorizado"),this.getComercioData()},setup(){return{usuario:C()}}};function w(n,e,s,y,l,f){return b(),v(g,null,{default:t(()=>[o(c,null,{default:t(()=>[o(a,{class:"d-flex align-items-center"},{default:t(()=>[o(h,{modelValue:l.mensaje,"onUpdate:modelValue":e[0]||(e[0]=i=>l.mensaje=i),border:"start","close-label":"Close Alert",color:"red-lighten-2",title:" ⚠️  Atención ",closable:""},{default:t(()=>[...e[12]||(e[12]=[d(" Los datos ingresandos en esta sección se utilizan para la facturación electrónica, especialmente ",-1),u("b",null,"condicion IVA",-1),d(", ",-1),u("b",null,"N° CUIT",-1),d(" y si reside en ",-1),u("b",null,"Tierra del Fuego",-1),u("br",null,null,-1),d(" Verificar que sean correctos a fin de evitar inconvenientes. ",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(c,null,{default:t(()=>[o(a,null,{default:t(()=>[o(_,{title:"Datos del comercio",loading:l.loading},{default:t(()=>[o(U,null,{default:t(()=>[o(c,null,{default:t(()=>[o(a,{cols:"12",md:"6"},{default:t(()=>[o(r,{modelValue:l.comercio.nombre,"onUpdate:modelValue":e[1]||(e[1]=i=>l.comercio.nombre=i),label:"Nombre del comercio",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"6"},{default:t(()=>[o(r,{modelValue:l.comercio.cuit,"onUpdate:modelValue":e[2]||(e[2]=i=>l.comercio.cuit=i),label:"CUIT sólo numeros",variant:"outlined",type:"number"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:t(()=>[o(r,{modelValue:l.comercio.direccion,"onUpdate:modelValue":e[3]||(e[3]=i=>l.comercio.direccion=i),label:"Dirección",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:t(()=>[o(r,{modelValue:l.comercio.telefono,"onUpdate:modelValue":e[4]||(e[4]=i=>l.comercio.telefono=i),label:"Teléfono",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:t(()=>[o(m,{modelValue:l.comercio.condicion_iva,"onUpdate:modelValue":e[5]||(e[5]=i=>l.comercio.condicion_iva=i),items:["Responsable Inscripto","Monotributista"],label:"Condición frente al IVA",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:t(()=>[o(r,{modelValue:l.comercio.iibb,"onUpdate:modelValue":e[6]||(e[6]=i=>l.comercio.iibb=i),label:"Ingresos Brutos",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:t(()=>[o(r,{modelValue:l.comercio.pto_venta,"onUpdate:modelValue":e[7]||(e[7]=i=>l.comercio.pto_venta=i),label:"Punto de venta",variant:"outlined",type:"number",hint:"Número de punto de venta para facturación"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:t(()=>[o(r,{modelValue:l.comercio.inicio_actividades,"onUpdate:modelValue":e[8]||(e[8]=i=>l.comercio.inicio_actividades=i),label:"Inicio de actividades",variant:"outlined",type:"date"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"4"},{default:t(()=>[o(m,{modelValue:l.comercio.tdf,"onUpdate:modelValue":e[9]||(e[9]=i=>l.comercio.tdf=i),items:[{title:"Sí",value:1},{title:"No",value:0}],label:"Tierra del Fuego","item-title":"title","item-value":"value",variant:"outlined"},null,8,["modelValue"])]),_:1}),o(a,{cols:"12",md:"6"},{default:t(()=>[o(m,{modelValue:l.comercio.impresion,"onUpdate:modelValue":e[10]||(e[10]=i=>l.comercio.impresion=i),items:l.modosDeImpresion,label:"Modo de impresión",variant:"outlined"},null,8,["modelValue","items"])]),_:1}),o(a,{cols:"12",md:"6"},{default:t(()=>[o(I,{label:"Logo",id:"logo",variant:"outlined"})]),_:1})]),_:1})]),_:1}),o(x,null,{default:t(()=>[o(B),o(D,{color:"primary",onClick:e[11]||(e[11]=i=>f.saveComercioData())},{default:t(()=>[...e[13]||(e[13]=[d("Guardar",-1)])]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})}const k=V(T,[["render",w]]);export{k as default};
