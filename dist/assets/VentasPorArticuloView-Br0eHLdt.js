import{_ as p,aj as m,Z as V,b as t,$ as s,a8 as f,a1 as h,a2 as b,a0 as g,ad as _,h as x,a5 as C,a6 as u,a7 as l,aa as n,V as k,a4 as S,ae as v}from"./index-U6VR35O7.js";const w={data(){return{articulos:[],url:"https://api-tpv.confinsoft.com/public",desde:"",hasta:"",headers:[{title:"Código",value:"codigo",sortable:!0},{title:"Artículo",value:"descripcion",sortable:!0},{title:"Cantidad vendida",value:"cantidad",sortable:!0},{title:"Stock actual",value:"stock",sortable:!0}]}},mounted(){this.desde=new Date().toISOString().substr(0,10),this.hasta=new Date().toISOString().substr(0,10)},methods:{async getArticulos(){let o=this.url+"/"+this.usuario.tpv+"/ventas/filtradas",e=await b.get(o,{params:{desde:this.desde,hasta:this.hasta,param:"porArticulos"},headers:{Authorization:this.usuario.token}});console.log(e.data);const d=Object.entries(e.data).map(([i,a])=>({articulo:i,codigo:a.codigo,descripcion:a.descripcion,cantidad:a.cantidad,total:a.precio*a.cantidad,stock:a.stock}));this.articulos=d}},setup(){return{usuario:h()}}};function A(o,e,d,i,a,c){return V(),m("div",null,[t(f,null,{default:s(()=>[t(g,null,{default:s(()=>[t(_,null,{default:s(()=>[...e[2]||(e[2]=[x("h3",null,"Ventas por artículo",-1)])]),_:1}),t(C,null,{default:s(()=>[t(u,null,{default:s(()=>[t(l,{cols:"12",md:"4"},{default:s(()=>[t(n,{modelValue:a.desde,"onUpdate:modelValue":e[0]||(e[0]=r=>a.desde=r),label:"Desde",type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(l,{cols:"12",md:"4"},{default:s(()=>[t(n,{modelValue:a.hasta,"onUpdate:modelValue":e[1]||(e[1]=r=>a.hasta=r),label:"Hasta",type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(l,{cols:"12",md:"4",align:"center",class:"mt-2"},{default:s(()=>[t(k,{onClick:c.getArticulos,color:"primary"},{default:s(()=>[...e[3]||(e[3]=[S("Buscar",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1}),t(u,null,{default:s(()=>[t(l,{cols:"12"},{default:s(()=>[t(v,{headers:a.headers,items:a.articulos,"no-data-text":"Sin Datos","items-per-page-text":"filas"},null,8,["headers","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const D=p(w,[["render",A]]);export{D as default};
